import{e as Y,a0 as ye,j as q,o as w,w as _,D as A,d as H,F as ie,m as f,P as de,a1 as Gt,M as Ht,a2 as jt,z as G,W as Kt,X as Wt,t as X,v as N,r as xe,H as Ve,A as Q,a3 as Ze,s as ot,a4 as ne,y as lt,a5 as it,a6 as Xt,B as Re,c as P,b as R,l as U,I as te,a as V,q as O,J as pe,$ as Ye,p as oe,a7 as yt,a8 as Zt,a9 as Yt,g as rt,U as Ie,h as st,aa as _t,k as Jt,V as se,ab as Qt,ac as en,N as tn,ad as ae,ae as nn,G as Le,af as on,Z as ln,ag as rn,ah as Ft,T as sn,ai as an,aj as Ct}from"#entry";import{_ as ze,a as un}from"./DmlEtoff.js";import{_ as at,a as ut}from"./5AIjcHJw.js";import{a as dn,b as gn,c as cn}from"./QS6HjyAB.js";import{_ as Te}from"./BVyfvdc_.js";import{a as bt,f as pn,_ as $t,b as fn,u as mn}from"./CB35zM0i.js";import{_ as vn}from"./2j_3bz5P.js";import"./p_lAcp4K.js";import"./HYxtIIp8.js";import"./KlBJtOUW.js";var yn=Y({__name:"PaginationEllipsis",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;return ye(),(t,n)=>(w(),q(f(de),ie(o,{"data-type":"ellipsis"}),{default:_(()=>[A(t.$slots,"default",{},()=>[n[0]||(n[0]=H("…"))])]),_:3},16))}}),Cn=yn;const[_e,Sn]=Gt("PaginationRoot");var hn=Y({__name:"PaginationRoot",props:{page:{type:Number,required:!1},defaultPage:{type:Number,required:!1,default:1},itemsPerPage:{type:Number,required:!0},total:{type:Number,required:!1,default:0},siblingCount:{type:Number,required:!1,default:2},disabled:{type:Boolean,required:!1},showEdges:{type:Boolean,required:!1,default:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"nav"}},emits:["update:page"],setup(e,{emit:o}){const t=e,n=o,{siblingCount:l,disabled:i,showEdges:r}=Ht(t);ye();const u=jt(t,"page",n,{defaultValue:t.defaultPage,passive:t.page===void 0}),d=G(()=>Math.max(1,Math.ceil(t.total/(t.itemsPerPage||1))));return Sn({page:u,onPageChange(s){u.value=s},pageCount:d,siblingCount:l,disabled:i,showEdges:r}),(s,g)=>(w(),q(f(de),{as:s.as,"as-child":s.asChild},{default:_(()=>[A(s.$slots,"default",{page:f(u),pageCount:d.value})]),_:3},8,["as","as-child"]))}}),wn=hn,Rn=Y({__name:"PaginationFirst",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const o=e,t=_e();ye();const n=G(()=>t.page.value===1||t.disabled.value);return(l,i)=>(w(),q(f(de),ie(o,{"aria-label":"First Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:i[0]||(i[0]=r=>!n.value&&f(t).onPageChange(1))}),{default:_(()=>[A(l.$slots,"default",{},()=>[i[1]||(i[1]=H("First page"))])]),_:3},16,["type","disabled"]))}}),xn=Rn,_n=Y({__name:"PaginationLast",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const o=e,t=_e();ye();const n=G(()=>t.page.value===t.pageCount.value||t.disabled.value);return(l,i)=>(w(),q(f(de),ie(o,{"aria-label":"Last Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:i[0]||(i[0]=r=>!n.value&&f(t).onPageChange(f(t).pageCount.value))}),{default:_(()=>[A(l.$slots,"default",{},()=>[i[1]||(i[1]=H("Last page"))])]),_:3},16,["type","disabled"]))}}),Fn=_n;function fe(e,o){const t=o-e+1;return Array.from({length:t},(n,l)=>l+e)}function bn(e){return e.map(o=>typeof o=="number"?{type:"page",value:o}:{type:"ellipsis"})}const Me="ellipsis";function $n(e,o,t,n){const i=o,r=Math.max(e-t,1),u=Math.min(e+t,i);if(n){const s=Math.min(2*t+5,o)-2,g=r>3&&Math.abs(i-s-1+1)>2&&Math.abs(r-1)>2,p=u<i-2&&Math.abs(i-s)>2&&Math.abs(i-u)>2;if(!g&&p)return[...fe(1,s),Me,i];if(g&&!p){const a=fe(i-s+1,i);return[1,Me,...a]}if(g&&p){const a=fe(r,u);return[1,Me,...a,Me,i]}return fe(1,i)}else{const d=t*2+1;return o<d?fe(1,i):e<=t+1?fe(1,d):o-e<=t?fe(o-d+1,i):fe(r,u)}}var Pn=Y({__name:"PaginationList",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const o=e;ye();const t=_e(),n=G(()=>bn($n(t.page.value,t.pageCount.value,t.siblingCount.value,t.showEdges.value)));return(l,i)=>(w(),q(f(de),Kt(Wt(o)),{default:_(()=>[A(l.$slots,"default",{items:n.value})]),_:3},16))}}),Vn=Pn,In=Y({__name:"PaginationListItem",props:{value:{type:Number,required:!0},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const o=e;ye();const t=_e(),n=G(()=>t.page.value===o.value),l=G(()=>t.disabled.value);return(i,r)=>(w(),q(f(de),ie(o,{"data-type":"page","aria-label":`Page ${i.value}`,"aria-current":n.value?"page":void 0,"data-selected":n.value?"true":void 0,disabled:l.value,type:i.as==="button"?"button":void 0,onClick:r[0]||(r[0]=u=>!l.value&&f(t).onPageChange(i.value))}),{default:_(()=>[A(i.$slots,"default",{},()=>[H(X(i.value),1)])]),_:3},16,["aria-label","aria-current","data-selected","disabled","type"]))}}),Mn=In,Dn=Y({__name:"PaginationNext",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const o=e;ye();const t=_e(),n=G(()=>t.page.value===t.pageCount.value||t.disabled.value);return(l,i)=>(w(),q(f(de),ie(o,{"aria-label":"Next Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:i[0]||(i[0]=r=>!n.value&&f(t).onPageChange(f(t).page.value+1))}),{default:_(()=>[A(l.$slots,"default",{},()=>[i[1]||(i[1]=H("Next page"))])]),_:3},16,["type","disabled"]))}}),On=Dn,En=Y({__name:"PaginationPrev",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const o=e;ye();const t=_e(),n=G(()=>t.page.value===1||t.disabled.value);return(l,i)=>(w(),q(f(de),ie(o,{"aria-label":"Previous Page",type:l.as==="button"?"button":void 0,disabled:n.value,onClick:i[0]||(i[0]=r=>!n.value&&f(t).onPageChange(f(t).page.value-1))}),{default:_(()=>[A(l.$slots,"default",{},()=>[i[1]||(i[1]=H("Prev page"))])]),_:3},16,["type","disabled"]))}}),An=En;function zn(e){if(!e||e==="*")return;const o=e.split(",").map(t=>{const n=t.trim();return n.includes("/")&&n.endsWith("/*")&&n.split("/")[0]||n}).filter(t=>!t.startsWith("."));return o.length>0?o:void 0}function Tn(e){const{accept:o="*",reset:t=!1,multiple:n=!1,dropzone:l=!0,onUpdate:i}=e,r=N(),u=N(),d=G(()=>zn(f(o))),s=a=>{!a||a.length===0||(a instanceof FileList&&(a=Array.from(a)),a.length>1&&!n&&(a=[a[0]]),i(a))},g=N(!1),p=xe({open:()=>{}});function c(){p.open()}return Ve(()=>{const{isOverDropZone:a}=l?dn(u,{dataTypes:d.value,onDrop:s}):{isOverDropZone:N(!1)};Q(a,S=>{g.value=S});const{onChange:m,open:v}=gn({accept:f(o),multiple:n,input:f(r),reset:t});p.open=v,m(S=>s(S))}),{isDragging:g,open:c,inputRef:r,dropzoneRef:u}}const Nn={slots:{root:"relative flex flex-col",base:["w-full flex-1 bg-default border border-default flex flex-col gap-2 items-stretch justify-center rounded-lg focus-visible:outline-2","transition-[background]"],wrapper:"flex flex-col items-center justify-center text-center",icon:"shrink-0",avatar:"shrink-0",label:"font-medium text-default mt-2",description:"text-muted mt-1",actions:"flex flex-wrap gap-1.5 shrink-0 mt-4",files:"",file:"relative",fileLeadingAvatar:"shrink-0",fileWrapper:"flex flex-col min-w-0",fileName:"text-default truncate",fileSize:"text-muted truncate",fileTrailingButton:""},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},variant:{area:{wrapper:"px-4 py-3",base:"p-4"},button:{}},size:{xs:{base:"text-xs",icon:"size-4",file:"text-xs px-2 py-1 gap-1",fileWrapper:"flex-row gap-1"},sm:{base:"text-xs",icon:"size-4",file:"text-xs px-2.5 py-1.5 gap-1.5",fileWrapper:"flex-row gap-1"},md:{base:"text-sm",icon:"size-5",file:"text-xs px-2.5 py-1.5 gap-1.5"},lg:{base:"text-sm",icon:"size-5",file:"text-sm px-3 py-2 gap-2",fileSize:"text-xs"},xl:{base:"text-base",icon:"size-6",file:"text-sm px-3 py-2 gap-2"}},layout:{list:{root:"gap-2 items-start",files:"flex flex-col w-full gap-2",file:"min-w-0 flex items-center border border-default rounded-md w-full",fileTrailingButton:"ms-auto"},grid:{fileWrapper:"hidden",fileLeadingAvatar:"size-full rounded-lg",fileTrailingButton:"absolute -top-1.5 -end-1.5 p-0 rounded-full border-2 border-bg"}},position:{inside:"",outside:""},dropzone:{true:"border-dashed data-[dragging=true]:bg-elevated/25"},interactive:{true:""},highlight:{true:""},multiple:{true:""},disabled:{true:"cursor-not-allowed opacity-75"}},compoundVariants:[{color:"primary",class:"focus-visible:outline-primary"},{color:"secondary",class:"focus-visible:outline-secondary"},{color:"success",class:"focus-visible:outline-success"},{color:"info",class:"focus-visible:outline-info"},{color:"warning",class:"focus-visible:outline-warning"},{color:"error",class:"focus-visible:outline-error"},{color:"primary",highlight:!0,class:"border-primary"},{color:"secondary",highlight:!0,class:"border-secondary"},{color:"success",highlight:!0,class:"border-success"},{color:"info",highlight:!0,class:"border-info"},{color:"warning",highlight:!0,class:"border-warning"},{color:"error",highlight:!0,class:"border-error"},{color:"neutral",class:"focus-visible:outline-inverted"},{color:"neutral",highlight:!0,class:"border-inverted"},{size:"xs",layout:"list",class:{fileTrailingButton:"-me-1"}},{size:"sm",layout:"list",class:{fileTrailingButton:"-me-1.5"}},{size:"md",layout:"list",class:{fileTrailingButton:"-me-1.5"}},{size:"lg",layout:"list",class:{fileTrailingButton:"-me-2"}},{size:"xl",layout:"list",class:{fileTrailingButton:"-me-2"}},{variant:"button",size:"xs",class:{base:"p-1"}},{variant:"button",size:"sm",class:{base:"p-1.5"}},{variant:"button",size:"md",class:{base:"p-1.5"}},{variant:"button",size:"lg",class:{base:"p-2"}},{variant:"button",size:"xl",class:{base:"p-2"}},{layout:"grid",multiple:!0,class:{files:"grid grid-cols-2 md:grid-cols-3 gap-4 w-full",file:"p-0 aspect-square"}},{layout:"grid",multiple:!1,class:{file:"absolute inset-0 p-0"}},{interactive:!0,disabled:!1,class:"hover:bg-elevated/25"}],defaultVariants:{color:"primary",variant:"area",size:"md"}},qn=["id","name","accept","multiple","required","disabled"],Ln=Object.assign({inheritAttrs:!1},{__name:"UFileUpload",props:Ze({as:{type:null,required:!1},id:{type:String,required:!1},name:{type:String,required:!1},icon:{type:[String,Object],required:!1},label:{type:String,required:!1},description:{type:String,required:!1},color:{type:null,required:!1},variant:{type:null,required:!1},size:{type:null,required:!1},layout:{type:null,required:!1,default:"grid"},position:{type:null,required:!1,default:"outside"},highlight:{type:Boolean,required:!1},accept:{type:String,required:!1,default:"*"},multiple:{type:Boolean,required:!1,default:!1},reset:{type:Boolean,required:!1,default:!1},dropzone:{type:Boolean,required:!1,default:!0},interactive:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},fileIcon:{type:[String,Object],required:!1},fileDelete:{type:[Boolean,Object],required:!1},fileDeleteIcon:{type:[String,Object],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},{modelValue:{type:null},modelModifiers:{}}),emits:Ze(["change"],["update:modelValue"]),setup(e,{expose:o,emit:t}){const n=e,l=t,i=ot(),r=ne(e,"modelValue"),u=lt(),{t:d}=it(),[s,g]=cn(),{isDragging:p,open:c,inputRef:a,dropzoneRef:m}=Tn({accept:n.accept,reset:n.reset,multiple:n.multiple,dropzone:n.dropzone,onUpdate:z}),{emitFormInput:v,emitFormChange:S,id:y,name:h,disabled:M,ariaAttrs:j}=Xt(n),E=G(()=>n.multiple?"area":n.variant),B=G(()=>n.variant==="button"&&!n.multiple?"grid":n.layout),le=G(()=>B.value==="grid"&&n.multiple?"inside":E.value==="button"?"outside":n.position),k=G(()=>Re({extend:Re(Nn),...u.ui?.fileUpload||{}})({dropzone:n.dropzone,interactive:n.interactive,color:n.color,size:n.size,variant:E.value,layout:B.value,position:le.value,multiple:n.multiple,highlight:n.highlight,disabled:n.disabled}));function Z(T){return URL.createObjectURL(T)}function W(T){if(T===0)return"0B";const L=1024,C=["B","KB","MB","GB"],I=Math.floor(Math.log(T)/Math.log(L)),D=T/Math.pow(L,I);return`${I===0?D.toString():D.toFixed(0)}${C[I]}`}function z(T,L=!1){if(n.multiple)if(L)r.value=T;else{const I=r.value||[];r.value=[...I,...T||[]]}else r.value=T?.[0];const C=new Event("change",{target:{value:r.value}});l("change",C),S(),v()}function J(T){if(!r.value)return;if(!n.multiple||T===void 0){z([],!0),m.value?.focus();return}const L=[...r.value];L.splice(T,1),z(L,!0),m.value?.focus()}return Q(r,T=>{(!Array.isArray(T)||!T.length)&&a.value&&(a.value.value="")}),o({inputRef:a,dropzoneRef:m}),(T,L)=>(w(),P(te,null,[R(f(s),null,{default:_(()=>[r.value&&(!Array.isArray(r.value)||r.value.length)?(w(),P(te,{key:0},[A(T.$slots,"files-top",{files:r.value,open:f(c),removeFile:J}),V("div",{class:O(k.value.files({class:n.ui?.files}))},[A(T.$slots,"files",{files:r.value},()=>[(w(!0),P(te,null,pe(Array.isArray(r.value)?r.value:[r.value],(C,I)=>(w(),P("div",{key:C.name,class:O(k.value.file({class:n.ui?.file}))},[A(T.$slots,"file",{file:C,index:I},()=>[A(T.$slots,"file-leading",{file:C,index:I},()=>[R(Ye,{src:Z(C),icon:e.fileIcon||f(u).ui.icons.file,size:n.size,class:O(k.value.fileLeadingAvatar({class:n.ui?.fileLeadingAvatar}))},null,8,["src","icon","size","class"])]),V("div",{class:O(k.value.fileWrapper({class:n.ui?.fileWrapper}))},[V("span",{class:O(k.value.fileName({class:n.ui?.fileName}))},[A(T.$slots,"file-name",{file:C,index:I},()=>[H(X(C.name),1)])],2),V("span",{class:O(k.value.fileSize({class:n.ui?.fileSize}))},[A(T.$slots,"file-size",{file:C,index:I},()=>[H(X(W(C.size)),1)])],2)],2),A(T.$slots,"file-trailing",{file:C,index:I},()=>[R(oe,ie({color:"neutral"},{ref_for:!0},{...B.value==="grid"?{variant:"solid",size:"xs"}:{variant:"link",size:e.size},...typeof e.fileDelete=="object"?e.fileDelete:void 0},{"aria-label":f(d)("fileUpload.removeFile",{filename:C.name}),"trailing-icon":e.fileDeleteIcon||f(u).ui.icons.close,class:k.value.fileTrailingButton({class:n.ui?.fileTrailingButton}),onClick:yt(D=>J(I),["stop","prevent"])}),null,16,["aria-label","trailing-icon","class","onClick"])])])],2))),128))])],2),A(T.$slots,"files-bottom",{files:r.value,open:f(c),removeFile:J})],64)):U("",!0)]),_:3}),R(f(de),{as:e.as,class:O(k.value.root({class:[n.ui?.root,n.class]}))},{default:_(()=>[A(T.$slots,"default",{open:f(c),removeFile:J},()=>[(w(),q(Zt(E.value==="button"?"button":"div"),{ref_key:"dropzoneRef",ref:m,type:E.value==="button"?"button":void 0,role:E.value==="button"?void 0:"button","data-dragging":f(p),class:O(k.value.base({class:n.ui?.base})),tabindex:e.interactive&&!f(M)?0:-1,onClick:L[0]||(L[0]=C=>e.interactive&&!f(M)&&f(c)()),onKeydown:L[1]||(L[1]=yt(()=>{},["prevent"])),onKeyup:L[2]||(L[2]=Yt(C=>e.interactive&&!f(M)&&f(c)(),["enter","space"]))},{default:_(()=>[le.value==="inside"?(w(),q(f(g),{key:0})):U("",!0),le.value!=="inside"||(e.multiple?!r.value?.length:!r.value)?(w(),P("div",{key:1,class:O(k.value.wrapper({class:n.ui?.wrapper}))},[A(T.$slots,"leading",{},()=>[E.value==="button"?(w(),q(rt,{key:0,name:e.icon||f(u).ui.icons.upload,class:O(k.value.icon({class:n.ui?.icon}))},null,8,["name","class"])):(w(),q(Ye,{key:1,icon:e.icon||f(u).ui.icons.upload,size:n.size,class:O(k.value.avatar({class:n.ui?.avatar}))},null,8,["icon","size","class"]))]),E.value!=="button"?(w(),P(te,{key:0},[e.label||i.label?(w(),P("div",{key:0,class:O(k.value.label({class:n.ui?.label}))},[A(T.$slots,"label",{},()=>[H(X(e.label),1)])],2)):U("",!0),e.description||i.description?(w(),P("div",{key:1,class:O(k.value.description({class:n.ui?.description}))},[A(T.$slots,"description",{},()=>[H(X(e.description),1)])],2)):U("",!0),i.actions?(w(),P("div",{key:2,class:O(k.value.actions({class:n.ui?.actions}))},[A(T.$slots,"actions",{files:r.value,open:f(c),removeFile:J})],2)):U("",!0)],64)):U("",!0)],2)):U("",!0)]),_:3},40,["type","role","data-dragging","class","tabindex"])),le.value==="outside"?(w(),q(f(g),{key:0})):U("",!0)]),V("input",ie({id:f(y),ref_key:"inputRef",ref:a,type:"file",name:f(h),accept:e.accept,multiple:e.multiple,required:e.required,disabled:f(M)},{...T.$attrs,...f(j)},{class:"sr-only",tabindex:"-1"}),null,16,qn)]),_:3},8,["as","class"])],64))}});function dt(e,o){const{$apiFetch:t}=Ie();return t(`/api/${e}/${o}`,{method:"GET",credentials:"include"})}function Bn(e,o){return o==="student"}function kn(e,o){return o==="program"}function Un(e,o){return o==="college"}function gt(e,o,t){const n=/^\d{4}-\d{4}$/,l=/^[A-Za-z- ]+$/,i=/^[A-Z-]+$/,r=/^[A-Za-z- ]+$/,u=/^[A-Z-]+$/,d=/^[A-Za-z- ]+$/,s=/^\s*$/,g=[];return t&&(Bn(e,o)&&(!e.idNumber||s.test(e.idNumber)?g.push({name:"idNumber",message:"Required."}):e.idNumber&&!n.test(e.idNumber)&&g.push({name:"idNumber",message:"ID number format is XXXX-XXXX."}),!e.firstName||s.test(e.firstName)?g.push({name:"firstName",message:"Required."}):e.firstName&&!l.test(e.firstName)&&g.push({name:"firstName",message:"Letters, spaces, and dashes only."}),!e.lastName||s.test(e.lastName)?g.push({name:"lastName",message:"Required."}):e.lastName&&!l.test(e.lastName)&&g.push({name:"lastName",message:"Letters, spaces, and dashes only."})),kn(e,o)&&(!e.programCode||s.test(e.programCode)?g.push({name:"programCode",message:"Required."}):e.programCode&&!i.test(e.programCode)&&g.push({name:"programCode",message:"Uppercase letters & dashes only."}),!e.programName||s.test(e.programName)?g.push({name:"programName",message:"Required."}):e.programName&&!r.test(e.programName)&&(console.log("reach here"),g.push({name:"programName",message:"Letters, spaces, and dashes only."}))),Un(e,o)&&(!e.collegeCode||s.test(e.collegeCode)?g.push({name:"collegeCode",message:"Required."}):e.collegeCode&&!u.test(e.collegeCode)&&g.push({name:"collegeCode",message:"Uppercase letters & dashes only."}),!e.collegeName||s.test(e.collegeName)?g.push({name:"collegeName",message:"Required."}):e.collegeName&&!d.test(e.collegeName)&&g.push({name:"collegeName",message:"Letters, spaces, and dashes only."}))),g}function Se(e){return e.replace(/\b\w/g,o=>o.toUpperCase())}function Gn(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}const Hn={class:"flex items-center justify-center w-full"},jn={class:"flex gap-4 w-full"},Kn={class:"flex gap-4"},Wn={class:"flex gap-4"},Xn={class:"flex justify-end gap-2 w-full pt-5"},Zn=2*1024*1024,Yn=Y({__name:"AddEditEntityFormStudent",props:{dialogType:{},selectedEntity:{}},emits:["onSubmit","onClose","onSubmitError"],setup(e,{emit:o}){const t=e,n=xe({avatar:null,existingAvatarUrl:null,idNumber:"",firstName:"",lastName:"",yearLevel:{label:"1st"},gender:{label:"Male"},programCode:{label:""}}),l=N(!1),i=N(""),r=N(""),u=st(),d=o,s=N([{label:"1st"},{label:"2nd"},{label:"3rd"},{label:"4th"},{label:"4th+"}]),g=N([{label:"Male"},{label:"Female"},{label:"Others"},{label:"Prefer not to say"}]),p=N([]);let c,a=!1;const m=y=>{d("onSubmit",{avatar:y.data.avatar,existingAvatarUrl:y.data.existingAvatarUrl,idNumber:y.data.idNumber,firstName:y.data.firstName,lastName:y.data.lastName,yearLevel:y.data.yearLevel,gender:y.data.gender,programCode:y.data.programCode})},v=y=>typeof y=="string"?y:y.type==="label"||!y.type?y.label??"":"",S=G(()=>{if(!i.value.trim())return p.value;const y=i.value.toLowerCase(),h=[];let M=!1,j=null;for(const E of p.value){if(typeof E=="object"&&E?.type==="label"){j=E,M=!1;continue}if(typeof E=="object"&&E?.type==="separator"){M&&h.push(E),M=!1;continue}v(E).toLowerCase().includes(y)&&(j&&!h.includes(j)&&h.push(j),h.push(E),M=!0)}return h.pop(),h});return Q(()=>n.avatar,y=>{y&&y.size>Zn&&(n.avatar=null,u.add({title:"File Size Limit Exceeded",description:"Image was skipped because it exceed the 2 MB size limit.",color:"error"}))}),Q(i,y=>{y===""?i.value=r.value:r.value=y}),Q(()=>l.value,y=>{y&&(i.value="",r.value="")}),Ve(async()=>{if(t.dialogType==="edit"){const y=await dt("students",t.selectedEntity);n.existingAvatarUrl=y.avatarUrl,n.idNumber=y.idNumber,n.firstName=y.firstName,n.lastName=y.lastName,n.yearLevel.label=y.yearLevel,n.gender.label=Gn(y.gender),n.programCode.label=y.programCode?y.programCode:""}c=await bt("programs"),p.value=pn(c),n.programCode.label===""&&(n.programCode.label=c[0]?.programCodes[0]),a=!0}),(y,h)=>{const M=_t,j=Jt,E=oe,B=at,le=Ln,k=Te,Z=$t,W=ut;return w(),q(W,{validate:z=>f(gt)(z,"student",f(a)),state:f(n),class:"flex flex-col space-y-4",onSubmit:h[11]||(h[11]=z=>m(z)),onError:h[12]||(h[12]=z=>d("onSubmitError"))},{default:_(()=>[t.dialogType==="edit"&&f(n).existingAvatarUrl?(w(),q(B,{key:0,label:"Existing Avatar",name:"existingAvatar",class:"w-full min-h-48"},{default:_(()=>[V("div",Hn,[R(M,{src:`${f(n).existingAvatarUrl}`,class:"rounded-full w-45 h-45 object-cover"},null,8,["src"]),R(E,{class:"absolute -top-1.5 -right-1.5 w-5 h-5 p-0 flex items-center justify-center rounded-full bg-inverted text-xs cursor-pointer",type:"button",onClick:h[0]||(h[0]=z=>f(n).existingAvatarUrl=null)},{default:_(()=>[R(j,{name:"i-lucide:x",class:"w-4 h-4"})]),_:1})])]),_:1})):U("",!0),R(B,{label:`${t.dialogType==="edit"?"New Avatar":"Avatar (not required)"}`,name:"avatar",class:"flex-1"},{default:_(()=>[R(le,{modelValue:f(n).avatar,"onUpdate:modelValue":h[1]||(h[1]=z=>f(n).avatar=z),accept:"image/*",label:"Drop your image here",description:"SVG, PNG, JPG or GIF (max. 2MB)",icon:"i-lucide-image",position:"inside",layout:"list",class:"w-full min-h-36"},null,8,["modelValue"])]),_:1},8,["label"]),V("div",jn,[R(B,{label:"ID Number",name:"idNumber",class:"flex-1"},{default:_(()=>[R(k,{modelValue:f(n).idNumber,"onUpdate:modelValue":h[2]||(h[2]=z=>f(n).idNumber=z),class:"w-full"},null,8,["modelValue"])]),_:1}),R(B,{label:"Year Level",name:"yearLevel",class:"flex-1"},{default:_(()=>[R(Z,{modelValue:f(n).yearLevel,"onUpdate:modelValue":h[3]||(h[3]=z=>f(n).yearLevel=z),items:f(s),class:"w-full"},null,8,["modelValue","items"])]),_:1})]),V("div",Kn,[R(B,{label:"First Name",name:"firstName",class:"flex-1"},{default:_(()=>[R(k,{modelValue:f(n).firstName,"onUpdate:modelValue":h[4]||(h[4]=z=>f(n).firstName=z),class:"w-full"},null,8,["modelValue"])]),_:1}),R(B,{label:"Last Name",name:"lastName",class:"flex-1"},{default:_(()=>[R(k,{modelValue:f(n).lastName,"onUpdate:modelValue":h[5]||(h[5]=z=>f(n).lastName=z),class:"w-full"},null,8,["modelValue"])]),_:1})]),V("div",Wn,[R(B,{label:"Gender",name:"gender",class:"flex-1"},{default:_(()=>[R(Z,{modelValue:f(n).gender,"onUpdate:modelValue":h[6]||(h[6]=z=>f(n).gender=z),items:f(g),class:"w-full"},null,8,["modelValue","items"])]),_:1}),R(B,{label:"Program Code",name:"programCode",class:"flex-1"},{default:_(()=>[R(Z,{modelValue:f(n).programCode,"onUpdate:modelValue":h[7]||(h[7]=z=>f(n).programCode=z),"search-term":f(i),"onUpdate:searchTerm":h[8]||(h[8]=z=>se(i)?i.value=z:null),items:f(S),"ignore-filter":"",class:"w-full",ui:{trailingIcon:"group-data-[state=open]:rotate-180 transition-transform duration-200",label:"text-primary"},"onUpdate:open":h[9]||(h[9]=z=>l.value=z)},null,8,["modelValue","search-term","items"])]),_:1})]),V("div",Xn,[R(E,{size:"md",color:"error",variant:"solid",class:"cursor-pointer",onClick:h[10]||(h[10]=z=>d("onClose"))},{default:_(()=>[...h[13]||(h[13]=[H("Close",-1)])]),_:1}),R(E,{size:"md",color:"primary",variant:"solid",type:"submit",class:"cursor-pointer"},{default:_(()=>[...h[14]||(h[14]=[H("Proceed",-1)])]),_:1})])]),_:1},8,["validate","state"])}}}),Jn=Object.assign(Yn,{__name:"AddEditEntityFormStudent"}),Qn={class:"flex justify-end gap-2 w-full pt-5"},eo=Y({__name:"AddEditEntityFormProgram",props:{dialogType:{},selectedEntity:{}},emits:["onSubmit","onClose","onSubmitError"],setup(e,{emit:o}){const t=e,n=xe({programCode:"",programName:"",collegeCode:{label:""}}),l=o,i=N([]);let r=!1;Ve(async()=>{if(t.dialogType==="edit"){const s=await dt("programs",t.selectedEntity);n.programCode=s.programCode,n.programName=s.programName,n.collegeCode.label=s.collegeCode?s.collegeCode:""}const d=await bt("colleges");i.value=fn(d),n.collegeCode.label===""&&(n.collegeCode.label=d[0]?.collegeCode),r=!0});const u=d=>{l("onSubmit",{programCode:d.data.programCode,programName:d.data.programName,collegeCode:d.data.collegeCode})};return(d,s)=>{const g=Te,p=at,c=$t,a=oe,m=ut;return w(),q(m,{validate:v=>f(gt)(v,"program",f(r)),state:f(n),class:"flex flex-col space-y-4",onSubmit:s[4]||(s[4]=v=>u(v)),onError:s[5]||(s[5]=v=>l("onSubmitError"))},{default:_(()=>[R(p,{label:"Program Code",name:"programCode",class:"flex-1"},{default:_(()=>[R(g,{modelValue:f(n).programCode,"onUpdate:modelValue":s[0]||(s[0]=v=>f(n).programCode=v),class:"w-full"},null,8,["modelValue"])]),_:1}),R(p,{label:"Program Name",name:"programName",class:"flex-1"},{default:_(()=>[R(g,{modelValue:f(n).programName,"onUpdate:modelValue":s[1]||(s[1]=v=>f(n).programName=v),class:"w-full"},null,8,["modelValue"])]),_:1}),R(p,{label:"College Code",name:"collegeCode",class:"flex-1"},{default:_(()=>[R(c,{modelValue:f(n).collegeCode,"onUpdate:modelValue":s[2]||(s[2]=v=>f(n).collegeCode=v),items:f(i),class:"w-full"},null,8,["modelValue","items"])]),_:1}),V("div",Qn,[R(a,{size:"md",color:"error",variant:"solid",class:"cursor-pointer",onClick:s[3]||(s[3]=v=>l("onClose"))},{default:_(()=>[...s[6]||(s[6]=[H("Close",-1)])]),_:1}),R(a,{size:"md",color:"primary",variant:"solid",type:"submit",class:"cursor-pointer"},{default:_(()=>[...s[7]||(s[7]=[H("Proceed",-1)])]),_:1})])]),_:1},8,["validate","state"])}}}),to=Object.assign(eo,{__name:"AddEditEntityFormProgram"}),no={class:"flex justify-end gap-2 w-full pt-5"},oo=Y({__name:"AddEditEntityFormCollege",props:{dialogType:{},selectedEntity:{}},emits:["onSubmit","onClose","onSubmitError"],setup(e,{emit:o}){const t=e,n=xe({collegeCode:"",collegeName:""}),l=o;let i=!1;return Ve(async()=>{if(t.dialogType==="edit"){const r=await dt("colleges",t.selectedEntity);n.collegeCode=r.collegeCode,n.collegeName=r.collegeName}i=!0}),(r,u)=>{const d=Te,s=at,g=oe,p=ut;return w(),q(p,{validate:c=>f(gt)(c,"college",f(i)),state:f(n),class:"flex flex-col space-y-4",onSubmit:u[3]||(u[3]=c=>l("onSubmit",c.data)),onError:u[4]||(u[4]=c=>l("onSubmitError"))},{default:_(()=>[R(s,{label:"College Code",name:"collegeCode",class:"flex-1"},{default:_(()=>[R(d,{modelValue:f(n).collegeCode,"onUpdate:modelValue":u[0]||(u[0]=c=>f(n).collegeCode=c),class:"w-full"},null,8,["modelValue"])]),_:1}),R(s,{label:"College Name",name:"collegeName",class:"flex-1"},{default:_(()=>[R(d,{modelValue:f(n).collegeName,"onUpdate:modelValue":u[1]||(u[1]=c=>f(n).collegeName=c),class:"w-full"},null,8,["modelValue"])]),_:1}),V("div",no,[R(g,{size:"md",color:"error",variant:"solid",class:"cursor-pointer",onClick:u[2]||(u[2]=c=>l("onClose"))},{default:_(()=>[...u[5]||(u[5]=[H("Close",-1)])]),_:1}),R(g,{size:"md",color:"primary",variant:"solid",type:"submit",class:"cursor-pointer"},{default:_(()=>[...u[6]||(u[6]=[H("Proceed",-1)])]),_:1})])]),_:1},8,["validate","state"])}}}),lo=Object.assign(oo,{__name:"AddEditEntityFormCollege"});function St(e,o){const{$apiFetch:t}=Ie();return t(`/api/${e}/`,{method:"POST",credentials:"include",body:o.entityDetails??o.studentFormData})}function ht(e,o,t){const{$apiFetch:n}=Ie();return n(`/api/${e}/${t}`,{method:"PATCH",credentials:"include",body:o.entityDetails??o.studentFormData})}const io={key:0,class:"text-3xl font-semibold"},ro={key:1},so={class:"text-3xl font-semibold"},ao={class:"text-md font-semibold text-stone-500"},uo={key:3,class:"flex justify-center items-center"},go={class:"ml-2 text-primary"},co=Y({__name:"AddEditEntityDialog",props:{entityType:{},dialogType:{},isOpen:{type:Boolean},selectedEntity:{}},emits:["update:isOpen","onSubmit"],setup(e,{emit:o}){const t=e,n=o,l=G({get:()=>t.isOpen,set:g=>{n("update:isOpen",g)}}),i=st(),r=N(!1),u=g=>g&&typeof g=="object"&&"idNumber"in g&&"firstName"in g&&"lastName"in g&&"yearLevel"in g&&"gender"in g&&"programCode"in g&&"avatar"in g;async function d(g){try{r.value=!0;let p={message:""};if(t.dialogType==="add")if(t.entityType==="students"&&u(g)){const c=new FormData;c.append("idNumber",g.idNumber),c.append("firstName",g.firstName),c.append("lastName",g.lastName),c.append("yearLevel",g.yearLevel.label),c.append("gender",g.gender.label),c.append("programCode",g.programCode.label),g.avatar&&c.append("avatar",g.avatar),p=await St(t.entityType,{studentFormData:c})}else u(g)||(p=await St(t.entityType,{entityDetails:g}));else if(t.entityType==="students"&&u(g)){const c=new FormData;c.append("idNumber",g.idNumber),c.append("firstName",g.firstName),c.append("lastName",g.lastName),c.append("yearLevel",g.yearLevel.label),c.append("gender",g.gender.label),c.append("programCode",g.programCode.label),g.avatar&&c.append("avatar",g.avatar),g.existingAvatarUrl&&c.append("existingAvatarUrl",g.existingAvatarUrl),p=await ht(t.entityType,{studentFormData:c},t.selectedEntity)}else u(g)||(p=await ht(t.entityType,{entityDetails:g},t.selectedEntity));i.add({title:"Success",description:p.message,color:"success"}),l.value=!1,n("onSubmit")}catch(p){let c;p instanceof Error&&(c=p.message),typeof p=="object"&&p!==null&&"data"in p&&(c=p.data.error),i.add({title:"Error",description:c,color:"error"})}}async function s(){i.add({title:"Error with inputs",description:`Resolve issues to ${t.dialogType} ${t.entityType.slice(0,-1)}.`,color:"error"})}return Q(()=>t.isOpen,async g=>{g||setTimeout(()=>{r.value=!1},300)}),(g,p)=>{const c=Jn,a=to,m=lo,v=rt,S=ze;return w(),P("div",null,[R(S,{open:f(l),"onUpdate:open":p[6]||(p[6]=y=>se(l)?l.value=y:null),ui:{content:f(r)?"max-w-lg h-[30%]":t.entityType==="students"?"max-w-2xl":"max-w-lg",body:f(r)?"flex items-center justify-center":""}},{header:_(()=>[t.dialogType==="add"?(w(),P("h2",io,X("Add "+f(Se)(t.entityType).slice(0,-1)),1)):(w(),P("div",ro,[V("h2",so,X("Edit "+f(Se)(t.entityType).slice(0,-1)),1),V("h3",ao,X(`${f(Se)(t.entityType.slice(0,-1))}: ${t.selectedEntity}`),1)]))]),body:_(()=>[g.entityType==="students"&&!f(r)?(w(),q(c,{key:0,"dialog-type":t.dialogType,"selected-entity":t.selectedEntity,onOnSubmit:p[0]||(p[0]=y=>d(y)),onOnClose:p[1]||(p[1]=y=>l.value=!1),onOnSubmitError:s},null,8,["dialog-type","selected-entity"])):U("",!0),g.entityType==="programs"&&!f(r)?(w(),q(a,{key:1,"dialog-type":t.dialogType,"selected-entity":t.selectedEntity,onOnSubmit:p[2]||(p[2]=y=>d(y)),onOnClose:p[3]||(p[3]=y=>l.value=!1),onOnSubmitError:s},null,8,["dialog-type","selected-entity"])):U("",!0),g.entityType==="colleges"&&!f(r)?(w(),q(m,{key:2,"dialog-type":t.dialogType,"selected-entity":t.selectedEntity,onOnSubmit:p[4]||(p[4]=y=>d(y)),onOnClose:p[5]||(p[5]=y=>l.value=!1),onOnSubmitError:s},null,8,["dialog-type","selected-entity"])):U("",!0),f(r)?(w(),P("div",uo,[R(v,{name:"i-heroicons-arrow-path",class:"w-8 h-8 animate-spin text-accent"}),V("span",go,X(f(Se)(t.dialogType)+"ing")+" "+X(t.entityType.slice(0,-1))+"...",1)])):U("",!0)]),_:1},8,["open","ui"])])}}}),Pt=Object.assign(co,{__name:"AddEditEntityDialog"});function po(e,o){const{$apiFetch:t}=Ie();return t(`/api/${e}/${o}`,{method:"DELETE",credentials:"include"})}const fo={class:"flex flex-col"},mo={class:"text-md font-semibold text-stone-500"},vo={key:0,class:"flex flex-col items-center"},yo={key:1,class:"flex justify-center items-center"},Co={class:"ml-2 text-primary"},So={class:"flex justify-end gap-2 w-full"},ho=Y({__name:"ConfirmDeleteEntityDialog",props:{entityType:{},isOpen:{type:Boolean},selectedEntity:{}},emits:["update:isOpen","onDelete"],setup(e,{emit:o}){const t=e,n=o,l=G({get:()=>t.isOpen,set:d=>{n("update:isOpen",d)}}),i=st(),r=N(!1);async function u(){try{r.value=!0;const d=await po(t.entityType,t.selectedEntity);i.add({title:"Success",description:d.message,color:"success"}),l.value=!1,n("onDelete")}catch{i.add({title:"Error",description:"Something went wrong!",color:"error"})}}return Q(()=>t.isOpen,async d=>{d||setTimeout(()=>{r.value=!1},300)}),(d,s)=>{const g=rt,p=oe,c=ze;return w(),P("div",null,[R(c,{open:f(l),"onUpdate:open":s[1]||(s[1]=a=>se(l)?l.value=a:null),ui:{content:["max-w-lg",f(r)?"h-[30%]":""],body:f(r)?"flex items-center justify-center":""}},Qt({header:_(()=>[V("div",fo,[s[2]||(s[2]=V("h2",{class:"text-3xl font-semibold"},"Confirm delete",-1)),V("h3",mo,X(`${f(Se)(t.entityType.slice(0,-1))}: ${t.selectedEntity}`),1)])]),body:_(()=>[f(r)?U("",!0):(w(),P("div",vo,[R(g,{name:"material-symbols:warning-rounded",class:"size-20 text-red-500 animate-bounce"}),V("div",null,[V("p",null,X(`Are you sure you want to delete this ${t.entityType.slice(0,-1)}?`),1)])])),f(r)?(w(),P("div",yo,[R(g,{name:"i-heroicons-arrow-path",class:"w-8 h-8 animate-spin text-accent"}),V("span",Co,"Deleting "+X(t.entityType.slice(0,-1))+"...",1)])):U("",!0)]),_:2},[f(r)?void 0:{name:"footer",fn:_(()=>[V("div",So,[R(p,{size:"md",color:"error",variant:"solid",class:"cursor-pointer",onClick:s[0]||(s[0]=a=>l.value=!1)},{default:_(()=>[...s[3]||(s[3]=[H("Close",-1)])]),_:1}),R(p,{size:"md",color:"primary",variant:"solid",class:"cursor-pointer",onClick:u},{default:_(()=>[...s[4]||(s[4]=[H("Proceed",-1)])]),_:1})])]),key:"0"}]),1032,["open","ui"])])}}}),wo=Object.assign(ho,{__name:"ConfirmDeleteEntityDialog"});function Ro(e){return e?e[0].toUpperCase()+e.slice(1):""}/**
   * table-core
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function me(e,o){return typeof e=="function"?e(o):e}function re(e,o){return t=>{o.setState(n=>({...n,[e]:me(t,n[e])}))}}function Ne(e){return e instanceof Function}function xo(e){return Array.isArray(e)&&e.every(o=>typeof o=="number")}function _o(e,o){const t=[],n=l=>{l.forEach(i=>{t.push(i);const r=o(i);r!=null&&r.length&&n(r)})};return n(e),t}function b(e,o,t){let n=[],l;return i=>{let r;t.key&&t.debug&&(r=Date.now());const u=e(i);if(!(u.length!==n.length||u.some((g,p)=>n[p]!==g)))return l;n=u;let s;if(t.key&&t.debug&&(s=Date.now()),l=o(...u),t==null||t.onChange==null||t.onChange(l),t.key&&t.debug&&t!=null&&t.debug()){const g=Math.round((Date.now()-r)*100)/100,p=Math.round((Date.now()-s)*100)/100,c=p/16,a=(m,v)=>{for(m=String(m);m.length<v;)m=" "+m;return m};console.info(`%c⏱ ${a(p,5)} /${a(g,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*c,120))}deg 100% 31%);`,t?.key)}return l}}function $(e,o,t,n){return{debug:()=>{var l;return(l=e?.debugAll)!=null?l:e[o]},key:!1,onChange:n}}function Fo(e,o,t,n){const l=()=>{var r;return(r=i.getValue())!=null?r:e.options.renderFallbackValue},i={id:`${o.id}_${t.id}`,row:o,column:t,getValue:()=>o.getValue(n),renderValue:l,getContext:b(()=>[e,t,o,i],(r,u,d,s)=>({table:r,column:u,row:d,cell:s,getValue:s.getValue,renderValue:s.renderValue}),$(e.options,"debugCells"))};return e._features.forEach(r=>{r.createCell==null||r.createCell(i,t,o,e)},{}),i}function bo(e,o,t,n){var l,i;const u={...e._getDefaultColumnDef(),...o},d=u.accessorKey;let s=(l=(i=u.id)!=null?i:d?typeof String.prototype.replaceAll=="function"?d.replaceAll(".","_"):d.replace(/\./g,"_"):void 0)!=null?l:typeof u.header=="string"?u.header:void 0,g;if(u.accessorFn?g=u.accessorFn:d&&(d.includes(".")?g=c=>{let a=c;for(const v of d.split(".")){var m;a=(m=a)==null?void 0:m[v]}return a}:g=c=>c[u.accessorKey]),!s)throw new Error;let p={id:`${String(s)}`,accessorFn:g,parent:n,depth:t,columnDef:u,columns:[],getFlatColumns:b(()=>[!0],()=>{var c;return[p,...(c=p.columns)==null?void 0:c.flatMap(a=>a.getFlatColumns())]},$(e.options,"debugColumns")),getLeafColumns:b(()=>[e._getOrderColumnsFn()],c=>{var a;if((a=p.columns)!=null&&a.length){let m=p.columns.flatMap(v=>v.getLeafColumns());return c(m)}return[p]},$(e.options,"debugColumns"))};for(const c of e._features)c.createColumn==null||c.createColumn(p,e);return p}const ee="debugHeaders";function wt(e,o,t){var n;let i={id:(n=t.id)!=null?n:o.id,column:o,index:t.index,isPlaceholder:!!t.isPlaceholder,placeholderId:t.placeholderId,depth:t.depth,subHeaders:[],colSpan:0,rowSpan:0,headerGroup:null,getLeafHeaders:()=>{const r=[],u=d=>{d.subHeaders&&d.subHeaders.length&&d.subHeaders.map(u),r.push(d)};return u(i),r},getContext:()=>({table:e,header:i,column:o})};return e._features.forEach(r=>{r.createHeader==null||r.createHeader(i,e)}),i}const $o={createTable:e=>{e.getHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n,l)=>{var i,r;const u=(i=n?.map(p=>t.find(c=>c.id===p)).filter(Boolean))!=null?i:[],d=(r=l?.map(p=>t.find(c=>c.id===p)).filter(Boolean))!=null?r:[],s=t.filter(p=>!(n!=null&&n.includes(p.id))&&!(l!=null&&l.includes(p.id)));return De(o,[...u,...s,...d],e)},$(e.options,ee)),e.getCenterHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n,l)=>(t=t.filter(i=>!(n!=null&&n.includes(i.id))&&!(l!=null&&l.includes(i.id))),De(o,t,e,"center")),$(e.options,ee)),e.getLeftHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.left],(o,t,n)=>{var l;const i=(l=n?.map(r=>t.find(u=>u.id===r)).filter(Boolean))!=null?l:[];return De(o,i,e,"left")},$(e.options,ee)),e.getRightHeaderGroups=b(()=>[e.getAllColumns(),e.getVisibleLeafColumns(),e.getState().columnPinning.right],(o,t,n)=>{var l;const i=(l=n?.map(r=>t.find(u=>u.id===r)).filter(Boolean))!=null?l:[];return De(o,i,e,"right")},$(e.options,ee)),e.getFooterGroups=b(()=>[e.getHeaderGroups()],o=>[...o].reverse(),$(e.options,ee)),e.getLeftFooterGroups=b(()=>[e.getLeftHeaderGroups()],o=>[...o].reverse(),$(e.options,ee)),e.getCenterFooterGroups=b(()=>[e.getCenterHeaderGroups()],o=>[...o].reverse(),$(e.options,ee)),e.getRightFooterGroups=b(()=>[e.getRightHeaderGroups()],o=>[...o].reverse(),$(e.options,ee)),e.getFlatHeaders=b(()=>[e.getHeaderGroups()],o=>o.map(t=>t.headers).flat(),$(e.options,ee)),e.getLeftFlatHeaders=b(()=>[e.getLeftHeaderGroups()],o=>o.map(t=>t.headers).flat(),$(e.options,ee)),e.getCenterFlatHeaders=b(()=>[e.getCenterHeaderGroups()],o=>o.map(t=>t.headers).flat(),$(e.options,ee)),e.getRightFlatHeaders=b(()=>[e.getRightHeaderGroups()],o=>o.map(t=>t.headers).flat(),$(e.options,ee)),e.getCenterLeafHeaders=b(()=>[e.getCenterFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),$(e.options,ee)),e.getLeftLeafHeaders=b(()=>[e.getLeftFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),$(e.options,ee)),e.getRightLeafHeaders=b(()=>[e.getRightFlatHeaders()],o=>o.filter(t=>{var n;return!((n=t.subHeaders)!=null&&n.length)}),$(e.options,ee)),e.getLeafHeaders=b(()=>[e.getLeftHeaderGroups(),e.getCenterHeaderGroups(),e.getRightHeaderGroups()],(o,t,n)=>{var l,i,r,u,d,s;return[...(l=(i=o[0])==null?void 0:i.headers)!=null?l:[],...(r=(u=t[0])==null?void 0:u.headers)!=null?r:[],...(d=(s=n[0])==null?void 0:s.headers)!=null?d:[]].map(g=>g.getLeafHeaders()).flat()},$(e.options,ee))}};function De(e,o,t,n){var l,i;let r=0;const u=function(c,a){a===void 0&&(a=1),r=Math.max(r,a),c.filter(m=>m.getIsVisible()).forEach(m=>{var v;(v=m.columns)!=null&&v.length&&u(m.columns,a+1)},0)};u(e);let d=[];const s=(c,a)=>{const m={depth:a,id:[n,`${a}`].filter(Boolean).join("_"),headers:[]},v=[];c.forEach(S=>{const y=[...v].reverse()[0],h=S.column.depth===m.depth;let M,j=!1;if(h&&S.column.parent?M=S.column.parent:(M=S.column,j=!0),y&&y?.column===M)y.subHeaders.push(S);else{const E=wt(t,M,{id:[n,a,M.id,S?.id].filter(Boolean).join("_"),isPlaceholder:j,placeholderId:j?`${v.filter(B=>B.column===M).length}`:void 0,depth:a,index:v.length});E.subHeaders.push(S),v.push(E)}m.headers.push(S),S.headerGroup=m}),d.push(m),a>0&&s(v,a-1)},g=o.map((c,a)=>wt(t,c,{depth:r,index:a}));s(g,r-1),d.reverse();const p=c=>c.filter(m=>m.column.getIsVisible()).map(m=>{let v=0,S=0,y=[0];m.subHeaders&&m.subHeaders.length?(y=[],p(m.subHeaders).forEach(M=>{let{colSpan:j,rowSpan:E}=M;v+=j,y.push(E)})):v=1;const h=Math.min(...y);return S=S+h,m.colSpan=v,m.rowSpan=S,{colSpan:v,rowSpan:S}});return p((l=(i=d[0])==null?void 0:i.headers)!=null?l:[]),d}const ct=(e,o,t,n,l,i,r)=>{let u={id:o,index:n,original:t,depth:l,parentId:r,_valuesCache:{},_uniqueValuesCache:{},getValue:d=>{if(u._valuesCache.hasOwnProperty(d))return u._valuesCache[d];const s=e.getColumn(d);if(s!=null&&s.accessorFn)return u._valuesCache[d]=s.accessorFn(u.original,n),u._valuesCache[d]},getUniqueValues:d=>{if(u._uniqueValuesCache.hasOwnProperty(d))return u._uniqueValuesCache[d];const s=e.getColumn(d);if(s!=null&&s.accessorFn)return s.columnDef.getUniqueValues?(u._uniqueValuesCache[d]=s.columnDef.getUniqueValues(u.original,n),u._uniqueValuesCache[d]):(u._uniqueValuesCache[d]=[u.getValue(d)],u._uniqueValuesCache[d])},renderValue:d=>{var s;return(s=u.getValue(d))!=null?s:e.options.renderFallbackValue},subRows:[],getLeafRows:()=>_o(u.subRows,d=>d.subRows),getParentRow:()=>u.parentId?e.getRow(u.parentId,!0):void 0,getParentRows:()=>{let d=[],s=u;for(;;){const g=s.getParentRow();if(!g)break;d.push(g),s=g}return d.reverse()},getAllCells:b(()=>[e.getAllLeafColumns()],d=>d.map(s=>Fo(e,u,s,s.id)),$(e.options,"debugRows")),_getAllCellsByColumnId:b(()=>[u.getAllCells()],d=>d.reduce((s,g)=>(s[g.column.id]=g,s),{}),$(e.options,"debugRows"))};for(let d=0;d<e._features.length;d++){const s=e._features[d];s==null||s.createRow==null||s.createRow(u,e)}return u},Po={createColumn:(e,o)=>{e._getFacetedRowModel=o.options.getFacetedRowModel&&o.options.getFacetedRowModel(o,e.id),e.getFacetedRowModel=()=>e._getFacetedRowModel?e._getFacetedRowModel():o.getPreFilteredRowModel(),e._getFacetedUniqueValues=o.options.getFacetedUniqueValues&&o.options.getFacetedUniqueValues(o,e.id),e.getFacetedUniqueValues=()=>e._getFacetedUniqueValues?e._getFacetedUniqueValues():new Map,e._getFacetedMinMaxValues=o.options.getFacetedMinMaxValues&&o.options.getFacetedMinMaxValues(o,e.id),e.getFacetedMinMaxValues=()=>{if(e._getFacetedMinMaxValues)return e._getFacetedMinMaxValues()}}},Vt=(e,o,t)=>{var n,l;const i=t==null||(n=t.toString())==null?void 0:n.toLowerCase();return!!(!((l=e.getValue(o))==null||(l=l.toString())==null||(l=l.toLowerCase())==null)&&l.includes(i))};Vt.autoRemove=e=>ue(e);const It=(e,o,t)=>{var n;return!!(!((n=e.getValue(o))==null||(n=n.toString())==null)&&n.includes(t))};It.autoRemove=e=>ue(e);const Mt=(e,o,t)=>{var n;return((n=e.getValue(o))==null||(n=n.toString())==null?void 0:n.toLowerCase())===t?.toLowerCase()};Mt.autoRemove=e=>ue(e);const Dt=(e,o,t)=>{var n;return(n=e.getValue(o))==null?void 0:n.includes(t)};Dt.autoRemove=e=>ue(e);const Ot=(e,o,t)=>!t.some(n=>{var l;return!((l=e.getValue(o))!=null&&l.includes(n))});Ot.autoRemove=e=>ue(e)||!(e!=null&&e.length);const Et=(e,o,t)=>t.some(n=>{var l;return(l=e.getValue(o))==null?void 0:l.includes(n)});Et.autoRemove=e=>ue(e)||!(e!=null&&e.length);const At=(e,o,t)=>e.getValue(o)===t;At.autoRemove=e=>ue(e);const zt=(e,o,t)=>e.getValue(o)==t;zt.autoRemove=e=>ue(e);const pt=(e,o,t)=>{let[n,l]=t;const i=e.getValue(o);return i>=n&&i<=l};pt.resolveFilterValue=e=>{let[o,t]=e,n=typeof o!="number"?parseFloat(o):o,l=typeof t!="number"?parseFloat(t):t,i=o===null||Number.isNaN(n)?-1/0:n,r=t===null||Number.isNaN(l)?1/0:l;if(i>r){const u=i;i=r,r=u}return[i,r]};pt.autoRemove=e=>ue(e)||ue(e[0])&&ue(e[1]);const ce={includesString:Vt,includesStringSensitive:It,equalsString:Mt,arrIncludes:Dt,arrIncludesAll:Ot,arrIncludesSome:Et,equals:At,weakEquals:zt,inNumberRange:pt};function ue(e){return e==null||e===""}const Vo={getDefaultColumnDef:()=>({filterFn:"auto"}),getInitialState:e=>({columnFilters:[],...e}),getDefaultOptions:e=>({onColumnFiltersChange:re("columnFilters",e),filterFromLeafRows:!1,maxLeafRowFilterDepth:100}),createColumn:(e,o)=>{e.getAutoFilterFn=()=>{const t=o.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);return typeof n=="string"?ce.includesString:typeof n=="number"?ce.inNumberRange:typeof n=="boolean"||n!==null&&typeof n=="object"?ce.equals:Array.isArray(n)?ce.arrIncludes:ce.weakEquals},e.getFilterFn=()=>{var t,n;return Ne(e.columnDef.filterFn)?e.columnDef.filterFn:e.columnDef.filterFn==="auto"?e.getAutoFilterFn():(t=(n=o.options.filterFns)==null?void 0:n[e.columnDef.filterFn])!=null?t:ce[e.columnDef.filterFn]},e.getCanFilter=()=>{var t,n,l;return((t=e.columnDef.enableColumnFilter)!=null?t:!0)&&((n=o.options.enableColumnFilters)!=null?n:!0)&&((l=o.options.enableFilters)!=null?l:!0)&&!!e.accessorFn},e.getIsFiltered=()=>e.getFilterIndex()>-1,e.getFilterValue=()=>{var t;return(t=o.getState().columnFilters)==null||(t=t.find(n=>n.id===e.id))==null?void 0:t.value},e.getFilterIndex=()=>{var t,n;return(t=(n=o.getState().columnFilters)==null?void 0:n.findIndex(l=>l.id===e.id))!=null?t:-1},e.setFilterValue=t=>{o.setColumnFilters(n=>{const l=e.getFilterFn(),i=n?.find(g=>g.id===e.id),r=me(t,i?i.value:void 0);if(Rt(l,r,e)){var u;return(u=n?.filter(g=>g.id!==e.id))!=null?u:[]}const d={id:e.id,value:r};if(i){var s;return(s=n?.map(g=>g.id===e.id?d:g))!=null?s:[]}return n!=null&&n.length?[...n,d]:[d]})}},createRow:(e,o)=>{e.columnFilters={},e.columnFiltersMeta={}},createTable:e=>{e.setColumnFilters=o=>{const t=e.getAllLeafColumns(),n=l=>{var i;return(i=me(o,l))==null?void 0:i.filter(r=>{const u=t.find(d=>d.id===r.id);if(u){const d=u.getFilterFn();if(Rt(d,r.value,u))return!1}return!0})};e.options.onColumnFiltersChange==null||e.options.onColumnFiltersChange(n)},e.resetColumnFilters=o=>{var t,n;e.setColumnFilters(o?[]:(t=(n=e.initialState)==null?void 0:n.columnFilters)!=null?t:[])},e.getPreFilteredRowModel=()=>e.getCoreRowModel(),e.getFilteredRowModel=()=>(!e._getFilteredRowModel&&e.options.getFilteredRowModel&&(e._getFilteredRowModel=e.options.getFilteredRowModel(e)),e.options.manualFiltering||!e._getFilteredRowModel?e.getPreFilteredRowModel():e._getFilteredRowModel())}};function Rt(e,o,t){return(e&&e.autoRemove?e.autoRemove(o,t):!1)||typeof o>"u"||typeof o=="string"&&!o}const Io=(e,o,t)=>t.reduce((n,l)=>{const i=l.getValue(e);return n+(typeof i=="number"?i:0)},0),Mo=(e,o,t)=>{let n;return t.forEach(l=>{const i=l.getValue(e);i!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}),n},Do=(e,o,t)=>{let n;return t.forEach(l=>{const i=l.getValue(e);i!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}),n},Oo=(e,o,t)=>{let n,l;return t.forEach(i=>{const r=i.getValue(e);r!=null&&(n===void 0?r>=r&&(n=l=r):(n>r&&(n=r),l<r&&(l=r)))}),[n,l]},Eo=(e,o)=>{let t=0,n=0;if(o.forEach(l=>{let i=l.getValue(e);i!=null&&(i=+i)>=i&&(++t,n+=i)}),t)return n/t},Ao=(e,o)=>{if(!o.length)return;const t=o.map(i=>i.getValue(e));if(!xo(t))return;if(t.length===1)return t[0];const n=Math.floor(t.length/2),l=t.sort((i,r)=>i-r);return t.length%2!==0?l[n]:(l[n-1]+l[n])/2},zo=(e,o)=>Array.from(new Set(o.map(t=>t.getValue(e))).values()),To=(e,o)=>new Set(o.map(t=>t.getValue(e))).size,No=(e,o)=>o.length,Be={sum:Io,min:Mo,max:Do,extent:Oo,mean:Eo,median:Ao,unique:zo,uniqueCount:To,count:No},qo={getDefaultColumnDef:()=>({aggregatedCell:e=>{var o,t;return(o=(t=e.getValue())==null||t.toString==null?void 0:t.toString())!=null?o:null},aggregationFn:"auto"}),getInitialState:e=>({grouping:[],...e}),getDefaultOptions:e=>({onGroupingChange:re("grouping",e),groupedColumnMode:"reorder"}),createColumn:(e,o)=>{e.toggleGrouping=()=>{o.setGrouping(t=>t!=null&&t.includes(e.id)?t.filter(n=>n!==e.id):[...t??[],e.id])},e.getCanGroup=()=>{var t,n;return((t=e.columnDef.enableGrouping)!=null?t:!0)&&((n=o.options.enableGrouping)!=null?n:!0)&&(!!e.accessorFn||!!e.columnDef.getGroupingValue)},e.getIsGrouped=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.includes(e.id)},e.getGroupedIndex=()=>{var t;return(t=o.getState().grouping)==null?void 0:t.indexOf(e.id)},e.getToggleGroupingHandler=()=>{const t=e.getCanGroup();return()=>{t&&e.toggleGrouping()}},e.getAutoAggregationFn=()=>{const t=o.getCoreRowModel().flatRows[0],n=t?.getValue(e.id);if(typeof n=="number")return Be.sum;if(Object.prototype.toString.call(n)==="[object Date]")return Be.extent},e.getAggregationFn=()=>{var t,n;if(!e)throw new Error;return Ne(e.columnDef.aggregationFn)?e.columnDef.aggregationFn:e.columnDef.aggregationFn==="auto"?e.getAutoAggregationFn():(t=(n=o.options.aggregationFns)==null?void 0:n[e.columnDef.aggregationFn])!=null?t:Be[e.columnDef.aggregationFn]}},createTable:e=>{e.setGrouping=o=>e.options.onGroupingChange==null?void 0:e.options.onGroupingChange(o),e.resetGrouping=o=>{var t,n;e.setGrouping(o?[]:(t=(n=e.initialState)==null?void 0:n.grouping)!=null?t:[])},e.getPreGroupedRowModel=()=>e.getFilteredRowModel(),e.getGroupedRowModel=()=>(!e._getGroupedRowModel&&e.options.getGroupedRowModel&&(e._getGroupedRowModel=e.options.getGroupedRowModel(e)),e.options.manualGrouping||!e._getGroupedRowModel?e.getPreGroupedRowModel():e._getGroupedRowModel())},createRow:(e,o)=>{e.getIsGrouped=()=>!!e.groupingColumnId,e.getGroupingValue=t=>{if(e._groupingValuesCache.hasOwnProperty(t))return e._groupingValuesCache[t];const n=o.getColumn(t);return n!=null&&n.columnDef.getGroupingValue?(e._groupingValuesCache[t]=n.columnDef.getGroupingValue(e.original),e._groupingValuesCache[t]):e.getValue(t)},e._groupingValuesCache={}},createCell:(e,o,t,n)=>{e.getIsGrouped=()=>o.getIsGrouped()&&o.id===t.groupingColumnId,e.getIsPlaceholder=()=>!e.getIsGrouped()&&o.getIsGrouped(),e.getIsAggregated=()=>{var l;return!e.getIsGrouped()&&!e.getIsPlaceholder()&&!!((l=t.subRows)!=null&&l.length)}}};function Lo(e,o,t){if(!(o!=null&&o.length)||!t)return e;const n=e.filter(i=>!o.includes(i.id));return t==="remove"?n:[...o.map(i=>e.find(r=>r.id===i)).filter(Boolean),...n]}const Bo={getInitialState:e=>({columnOrder:[],...e}),getDefaultOptions:e=>({onColumnOrderChange:re("columnOrder",e)}),createColumn:(e,o)=>{e.getIndex=b(t=>[Pe(o,t)],t=>t.findIndex(n=>n.id===e.id),$(o.options,"debugColumns")),e.getIsFirstColumn=t=>{var n;return((n=Pe(o,t)[0])==null?void 0:n.id)===e.id},e.getIsLastColumn=t=>{var n;const l=Pe(o,t);return((n=l[l.length-1])==null?void 0:n.id)===e.id}},createTable:e=>{e.setColumnOrder=o=>e.options.onColumnOrderChange==null?void 0:e.options.onColumnOrderChange(o),e.resetColumnOrder=o=>{var t;e.setColumnOrder(o?[]:(t=e.initialState.columnOrder)!=null?t:[])},e._getOrderColumnsFn=b(()=>[e.getState().columnOrder,e.getState().grouping,e.options.groupedColumnMode],(o,t,n)=>l=>{let i=[];if(!(o!=null&&o.length))i=l;else{const r=[...o],u=[...l];for(;u.length&&r.length;){const d=r.shift(),s=u.findIndex(g=>g.id===d);s>-1&&i.push(u.splice(s,1)[0])}i=[...i,...u]}return Lo(i,t,n)},$(e.options,"debugTable"))}},ke=()=>({left:[],right:[]}),ko={getInitialState:e=>({columnPinning:ke(),...e}),getDefaultOptions:e=>({onColumnPinningChange:re("columnPinning",e)}),createColumn:(e,o)=>{e.pin=t=>{const n=e.getLeafColumns().map(l=>l.id).filter(Boolean);o.setColumnPinning(l=>{var i,r;if(t==="right"){var u,d;return{left:((u=l?.left)!=null?u:[]).filter(p=>!(n!=null&&n.includes(p))),right:[...((d=l?.right)!=null?d:[]).filter(p=>!(n!=null&&n.includes(p))),...n]}}if(t==="left"){var s,g;return{left:[...((s=l?.left)!=null?s:[]).filter(p=>!(n!=null&&n.includes(p))),...n],right:((g=l?.right)!=null?g:[]).filter(p=>!(n!=null&&n.includes(p)))}}return{left:((i=l?.left)!=null?i:[]).filter(p=>!(n!=null&&n.includes(p))),right:((r=l?.right)!=null?r:[]).filter(p=>!(n!=null&&n.includes(p)))}})},e.getCanPin=()=>e.getLeafColumns().some(n=>{var l,i,r;return((l=n.columnDef.enablePinning)!=null?l:!0)&&((i=(r=o.options.enableColumnPinning)!=null?r:o.options.enablePinning)!=null?i:!0)}),e.getIsPinned=()=>{const t=e.getLeafColumns().map(u=>u.id),{left:n,right:l}=o.getState().columnPinning,i=t.some(u=>n?.includes(u)),r=t.some(u=>l?.includes(u));return i?"left":r?"right":!1},e.getPinnedIndex=()=>{var t,n;const l=e.getIsPinned();return l?(t=(n=o.getState().columnPinning)==null||(n=n[l])==null?void 0:n.indexOf(e.id))!=null?t:-1:0}},createRow:(e,o)=>{e.getCenterVisibleCells=b(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left,o.getState().columnPinning.right],(t,n,l)=>{const i=[...n??[],...l??[]];return t.filter(r=>!i.includes(r.column.id))},$(o.options,"debugRows")),e.getLeftVisibleCells=b(()=>[e._getAllVisibleCells(),o.getState().columnPinning.left],(t,n)=>(n??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"left"})),$(o.options,"debugRows")),e.getRightVisibleCells=b(()=>[e._getAllVisibleCells(),o.getState().columnPinning.right],(t,n)=>(n??[]).map(i=>t.find(r=>r.column.id===i)).filter(Boolean).map(i=>({...i,position:"right"})),$(o.options,"debugRows"))},createTable:e=>{e.setColumnPinning=o=>e.options.onColumnPinningChange==null?void 0:e.options.onColumnPinningChange(o),e.resetColumnPinning=o=>{var t,n;return e.setColumnPinning(o?ke():(t=(n=e.initialState)==null?void 0:n.columnPinning)!=null?t:ke())},e.getIsSomeColumnsPinned=o=>{var t;const n=e.getState().columnPinning;if(!o){var l,i;return!!((l=n.left)!=null&&l.length||(i=n.right)!=null&&i.length)}return!!((t=n[o])!=null&&t.length)},e.getLeftLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left],(o,t)=>(t??[]).map(n=>o.find(l=>l.id===n)).filter(Boolean),$(e.options,"debugColumns")),e.getRightLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.right],(o,t)=>(t??[]).map(n=>o.find(l=>l.id===n)).filter(Boolean),$(e.options,"debugColumns")),e.getCenterLeafColumns=b(()=>[e.getAllLeafColumns(),e.getState().columnPinning.left,e.getState().columnPinning.right],(o,t,n)=>{const l=[...t??[],...n??[]];return o.filter(i=>!l.includes(i.id))},$(e.options,"debugColumns"))}};function Uo(e){return e||(typeof document<"u"?document:null)}const Oe={size:150,minSize:20,maxSize:Number.MAX_SAFE_INTEGER},Ue=()=>({startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,isResizingColumn:!1,columnSizingStart:[]}),Go={getDefaultColumnDef:()=>Oe,getInitialState:e=>({columnSizing:{},columnSizingInfo:Ue(),...e}),getDefaultOptions:e=>({columnResizeMode:"onEnd",columnResizeDirection:"ltr",onColumnSizingChange:re("columnSizing",e),onColumnSizingInfoChange:re("columnSizingInfo",e)}),createColumn:(e,o)=>{e.getSize=()=>{var t,n,l;const i=o.getState().columnSizing[e.id];return Math.min(Math.max((t=e.columnDef.minSize)!=null?t:Oe.minSize,(n=i??e.columnDef.size)!=null?n:Oe.size),(l=e.columnDef.maxSize)!=null?l:Oe.maxSize)},e.getStart=b(t=>[t,Pe(o,t),o.getState().columnSizing],(t,n)=>n.slice(0,e.getIndex(t)).reduce((l,i)=>l+i.getSize(),0),$(o.options,"debugColumns")),e.getAfter=b(t=>[t,Pe(o,t),o.getState().columnSizing],(t,n)=>n.slice(e.getIndex(t)+1).reduce((l,i)=>l+i.getSize(),0),$(o.options,"debugColumns")),e.resetSize=()=>{o.setColumnSizing(t=>{let{[e.id]:n,...l}=t;return l})},e.getCanResize=()=>{var t,n;return((t=e.columnDef.enableResizing)!=null?t:!0)&&((n=o.options.enableColumnResizing)!=null?n:!0)},e.getIsResizing=()=>o.getState().columnSizingInfo.isResizingColumn===e.id},createHeader:(e,o)=>{e.getSize=()=>{let t=0;const n=l=>{if(l.subHeaders.length)l.subHeaders.forEach(n);else{var i;t+=(i=l.column.getSize())!=null?i:0}};return n(e),t},e.getStart=()=>{if(e.index>0){const t=e.headerGroup.headers[e.index-1];return t.getStart()+t.getSize()}return 0},e.getResizeHandler=t=>{const n=o.getColumn(e.column.id),l=n?.getCanResize();return i=>{if(!n||!l||(i.persist==null||i.persist(),Ge(i)&&i.touches&&i.touches.length>1))return;const r=e.getSize(),u=e?e.getLeafHeaders().map(y=>[y.column.id,y.column.getSize()]):[[n.id,n.getSize()]],d=Ge(i)?Math.round(i.touches[0].clientX):i.clientX,s={},g=(y,h)=>{typeof h=="number"&&(o.setColumnSizingInfo(M=>{var j,E;const B=o.options.columnResizeDirection==="rtl"?-1:1,le=(h-((j=M?.startOffset)!=null?j:0))*B,k=Math.max(le/((E=M?.startSize)!=null?E:0),-.999999);return M.columnSizingStart.forEach(Z=>{let[W,z]=Z;s[W]=Math.round(Math.max(z+z*k,0)*100)/100}),{...M,deltaOffset:le,deltaPercentage:k}}),(o.options.columnResizeMode==="onChange"||y==="end")&&o.setColumnSizing(M=>({...M,...s})))},p=y=>g("move",y),c=y=>{g("end",y),o.setColumnSizingInfo(h=>({...h,isResizingColumn:!1,startOffset:null,startSize:null,deltaOffset:null,deltaPercentage:null,columnSizingStart:[]}))},a=Uo(t),m={moveHandler:y=>p(y.clientX),upHandler:y=>{a?.removeEventListener("mousemove",m.moveHandler),a?.removeEventListener("mouseup",m.upHandler),c(y.clientX)}},v={moveHandler:y=>(y.cancelable&&(y.preventDefault(),y.stopPropagation()),p(y.touches[0].clientX),!1),upHandler:y=>{var h;a?.removeEventListener("touchmove",v.moveHandler),a?.removeEventListener("touchend",v.upHandler),y.cancelable&&(y.preventDefault(),y.stopPropagation()),c((h=y.touches[0])==null?void 0:h.clientX)}},S=Ho()?{passive:!1}:!1;Ge(i)?(a?.addEventListener("touchmove",v.moveHandler,S),a?.addEventListener("touchend",v.upHandler,S)):(a?.addEventListener("mousemove",m.moveHandler,S),a?.addEventListener("mouseup",m.upHandler,S)),o.setColumnSizingInfo(y=>({...y,startOffset:d,startSize:r,deltaOffset:0,deltaPercentage:0,columnSizingStart:u,isResizingColumn:n.id}))}}},createTable:e=>{e.setColumnSizing=o=>e.options.onColumnSizingChange==null?void 0:e.options.onColumnSizingChange(o),e.setColumnSizingInfo=o=>e.options.onColumnSizingInfoChange==null?void 0:e.options.onColumnSizingInfoChange(o),e.resetColumnSizing=o=>{var t;e.setColumnSizing(o?{}:(t=e.initialState.columnSizing)!=null?t:{})},e.resetHeaderSizeInfo=o=>{var t;e.setColumnSizingInfo(o?Ue():(t=e.initialState.columnSizingInfo)!=null?t:Ue())},e.getTotalSize=()=>{var o,t;return(o=(t=e.getHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0},e.getLeftTotalSize=()=>{var o,t;return(o=(t=e.getLeftHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0},e.getCenterTotalSize=()=>{var o,t;return(o=(t=e.getCenterHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0},e.getRightTotalSize=()=>{var o,t;return(o=(t=e.getRightHeaderGroups()[0])==null?void 0:t.headers.reduce((n,l)=>n+l.getSize(),0))!=null?o:0}}};let Ee=null;function Ho(){if(typeof Ee=="boolean")return Ee;let e=!1;try{const o={get passive(){return e=!0,!1}},t=()=>{};window.addEventListener("test",t,o),window.removeEventListener("test",t)}catch{e=!1}return Ee=e,Ee}function Ge(e){return e.type==="touchstart"}const jo={getInitialState:e=>({columnVisibility:{},...e}),getDefaultOptions:e=>({onColumnVisibilityChange:re("columnVisibility",e)}),createColumn:(e,o)=>{e.toggleVisibility=t=>{e.getCanHide()&&o.setColumnVisibility(n=>({...n,[e.id]:t??!e.getIsVisible()}))},e.getIsVisible=()=>{var t,n;const l=e.columns;return(t=l.length?l.some(i=>i.getIsVisible()):(n=o.getState().columnVisibility)==null?void 0:n[e.id])!=null?t:!0},e.getCanHide=()=>{var t,n;return((t=e.columnDef.enableHiding)!=null?t:!0)&&((n=o.options.enableHiding)!=null?n:!0)},e.getToggleVisibilityHandler=()=>t=>{e.toggleVisibility==null||e.toggleVisibility(t.target.checked)}},createRow:(e,o)=>{e._getAllVisibleCells=b(()=>[e.getAllCells(),o.getState().columnVisibility],t=>t.filter(n=>n.column.getIsVisible()),$(o.options,"debugRows")),e.getVisibleCells=b(()=>[e.getLeftVisibleCells(),e.getCenterVisibleCells(),e.getRightVisibleCells()],(t,n,l)=>[...t,...n,...l],$(o.options,"debugRows"))},createTable:e=>{const o=(t,n)=>b(()=>[n(),n().filter(l=>l.getIsVisible()).map(l=>l.id).join("_")],l=>l.filter(i=>i.getIsVisible==null?void 0:i.getIsVisible()),$(e.options,"debugColumns"));e.getVisibleFlatColumns=o("getVisibleFlatColumns",()=>e.getAllFlatColumns()),e.getVisibleLeafColumns=o("getVisibleLeafColumns",()=>e.getAllLeafColumns()),e.getLeftVisibleLeafColumns=o("getLeftVisibleLeafColumns",()=>e.getLeftLeafColumns()),e.getRightVisibleLeafColumns=o("getRightVisibleLeafColumns",()=>e.getRightLeafColumns()),e.getCenterVisibleLeafColumns=o("getCenterVisibleLeafColumns",()=>e.getCenterLeafColumns()),e.setColumnVisibility=t=>e.options.onColumnVisibilityChange==null?void 0:e.options.onColumnVisibilityChange(t),e.resetColumnVisibility=t=>{var n;e.setColumnVisibility(t?{}:(n=e.initialState.columnVisibility)!=null?n:{})},e.toggleAllColumnsVisible=t=>{var n;t=(n=t)!=null?n:!e.getIsAllColumnsVisible(),e.setColumnVisibility(e.getAllLeafColumns().reduce((l,i)=>({...l,[i.id]:t||!(i.getCanHide!=null&&i.getCanHide())}),{}))},e.getIsAllColumnsVisible=()=>!e.getAllLeafColumns().some(t=>!(t.getIsVisible!=null&&t.getIsVisible())),e.getIsSomeColumnsVisible=()=>e.getAllLeafColumns().some(t=>t.getIsVisible==null?void 0:t.getIsVisible()),e.getToggleAllColumnsVisibilityHandler=()=>t=>{var n;e.toggleAllColumnsVisible((n=t.target)==null?void 0:n.checked)}}};function Pe(e,o){return o?o==="center"?e.getCenterVisibleLeafColumns():o==="left"?e.getLeftVisibleLeafColumns():e.getRightVisibleLeafColumns():e.getVisibleLeafColumns()}const Ko={createTable:e=>{e._getGlobalFacetedRowModel=e.options.getFacetedRowModel&&e.options.getFacetedRowModel(e,"__global__"),e.getGlobalFacetedRowModel=()=>e.options.manualFiltering||!e._getGlobalFacetedRowModel?e.getPreFilteredRowModel():e._getGlobalFacetedRowModel(),e._getGlobalFacetedUniqueValues=e.options.getFacetedUniqueValues&&e.options.getFacetedUniqueValues(e,"__global__"),e.getGlobalFacetedUniqueValues=()=>e._getGlobalFacetedUniqueValues?e._getGlobalFacetedUniqueValues():new Map,e._getGlobalFacetedMinMaxValues=e.options.getFacetedMinMaxValues&&e.options.getFacetedMinMaxValues(e,"__global__"),e.getGlobalFacetedMinMaxValues=()=>{if(e._getGlobalFacetedMinMaxValues)return e._getGlobalFacetedMinMaxValues()}}},Wo={getInitialState:e=>({globalFilter:void 0,...e}),getDefaultOptions:e=>({onGlobalFilterChange:re("globalFilter",e),globalFilterFn:"auto",getColumnCanGlobalFilter:o=>{var t;const n=(t=e.getCoreRowModel().flatRows[0])==null||(t=t._getAllCellsByColumnId()[o.id])==null?void 0:t.getValue();return typeof n=="string"||typeof n=="number"}}),createColumn:(e,o)=>{e.getCanGlobalFilter=()=>{var t,n,l,i;return((t=e.columnDef.enableGlobalFilter)!=null?t:!0)&&((n=o.options.enableGlobalFilter)!=null?n:!0)&&((l=o.options.enableFilters)!=null?l:!0)&&((i=o.options.getColumnCanGlobalFilter==null?void 0:o.options.getColumnCanGlobalFilter(e))!=null?i:!0)&&!!e.accessorFn}},createTable:e=>{e.getGlobalAutoFilterFn=()=>ce.includesString,e.getGlobalFilterFn=()=>{var o,t;const{globalFilterFn:n}=e.options;return Ne(n)?n:n==="auto"?e.getGlobalAutoFilterFn():(o=(t=e.options.filterFns)==null?void 0:t[n])!=null?o:ce[n]},e.setGlobalFilter=o=>{e.options.onGlobalFilterChange==null||e.options.onGlobalFilterChange(o)},e.resetGlobalFilter=o=>{e.setGlobalFilter(o?void 0:e.initialState.globalFilter)}}},Xo={getInitialState:e=>({expanded:{},...e}),getDefaultOptions:e=>({onExpandedChange:re("expanded",e),paginateExpandedRows:!0}),createTable:e=>{let o=!1,t=!1;e._autoResetExpanded=()=>{var n,l;if(!o){e._queue(()=>{o=!0});return}if((n=(l=e.options.autoResetAll)!=null?l:e.options.autoResetExpanded)!=null?n:!e.options.manualExpanding){if(t)return;t=!0,e._queue(()=>{e.resetExpanded(),t=!1})}},e.setExpanded=n=>e.options.onExpandedChange==null?void 0:e.options.onExpandedChange(n),e.toggleAllRowsExpanded=n=>{n??!e.getIsAllRowsExpanded()?e.setExpanded(!0):e.setExpanded({})},e.resetExpanded=n=>{var l,i;e.setExpanded(n?{}:(l=(i=e.initialState)==null?void 0:i.expanded)!=null?l:{})},e.getCanSomeRowsExpand=()=>e.getPrePaginationRowModel().flatRows.some(n=>n.getCanExpand()),e.getToggleAllRowsExpandedHandler=()=>n=>{n.persist==null||n.persist(),e.toggleAllRowsExpanded()},e.getIsSomeRowsExpanded=()=>{const n=e.getState().expanded;return n===!0||Object.values(n).some(Boolean)},e.getIsAllRowsExpanded=()=>{const n=e.getState().expanded;return typeof n=="boolean"?n===!0:!(!Object.keys(n).length||e.getRowModel().flatRows.some(l=>!l.getIsExpanded()))},e.getExpandedDepth=()=>{let n=0;return(e.getState().expanded===!0?Object.keys(e.getRowModel().rowsById):Object.keys(e.getState().expanded)).forEach(i=>{const r=i.split(".");n=Math.max(n,r.length)}),n},e.getPreExpandedRowModel=()=>e.getSortedRowModel(),e.getExpandedRowModel=()=>(!e._getExpandedRowModel&&e.options.getExpandedRowModel&&(e._getExpandedRowModel=e.options.getExpandedRowModel(e)),e.options.manualExpanding||!e._getExpandedRowModel?e.getPreExpandedRowModel():e._getExpandedRowModel())},createRow:(e,o)=>{e.toggleExpanded=t=>{o.setExpanded(n=>{var l;const i=n===!0?!0:!!(n!=null&&n[e.id]);let r={};if(n===!0?Object.keys(o.getRowModel().rowsById).forEach(u=>{r[u]=!0}):r=n,t=(l=t)!=null?l:!i,!i&&t)return{...r,[e.id]:!0};if(i&&!t){const{[e.id]:u,...d}=r;return d}return n})},e.getIsExpanded=()=>{var t;const n=o.getState().expanded;return!!((t=o.options.getIsRowExpanded==null?void 0:o.options.getIsRowExpanded(e))!=null?t:n===!0||n?.[e.id])},e.getCanExpand=()=>{var t,n,l;return(t=o.options.getRowCanExpand==null?void 0:o.options.getRowCanExpand(e))!=null?t:((n=o.options.enableExpanding)!=null?n:!0)&&!!((l=e.subRows)!=null&&l.length)},e.getIsAllParentsExpanded=()=>{let t=!0,n=e;for(;t&&n.parentId;)n=o.getRow(n.parentId,!0),t=n.getIsExpanded();return t},e.getToggleExpandedHandler=()=>{const t=e.getCanExpand();return()=>{t&&e.toggleExpanded()}}}},Je=0,Qe=10,He=()=>({pageIndex:Je,pageSize:Qe}),Zo={getInitialState:e=>({...e,pagination:{...He(),...e?.pagination}}),getDefaultOptions:e=>({onPaginationChange:re("pagination",e)}),createTable:e=>{let o=!1,t=!1;e._autoResetPageIndex=()=>{var n,l;if(!o){e._queue(()=>{o=!0});return}if((n=(l=e.options.autoResetAll)!=null?l:e.options.autoResetPageIndex)!=null?n:!e.options.manualPagination){if(t)return;t=!0,e._queue(()=>{e.resetPageIndex(),t=!1})}},e.setPagination=n=>{const l=i=>me(n,i);return e.options.onPaginationChange==null?void 0:e.options.onPaginationChange(l)},e.resetPagination=n=>{var l;e.setPagination(n?He():(l=e.initialState.pagination)!=null?l:He())},e.setPageIndex=n=>{e.setPagination(l=>{let i=me(n,l.pageIndex);const r=typeof e.options.pageCount>"u"||e.options.pageCount===-1?Number.MAX_SAFE_INTEGER:e.options.pageCount-1;return i=Math.max(0,Math.min(i,r)),{...l,pageIndex:i}})},e.resetPageIndex=n=>{var l,i;e.setPageIndex(n?Je:(l=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageIndex)!=null?l:Je)},e.resetPageSize=n=>{var l,i;e.setPageSize(n?Qe:(l=(i=e.initialState)==null||(i=i.pagination)==null?void 0:i.pageSize)!=null?l:Qe)},e.setPageSize=n=>{e.setPagination(l=>{const i=Math.max(1,me(n,l.pageSize)),r=l.pageSize*l.pageIndex,u=Math.floor(r/i);return{...l,pageIndex:u,pageSize:i}})},e.setPageCount=n=>e.setPagination(l=>{var i;let r=me(n,(i=e.options.pageCount)!=null?i:-1);return typeof r=="number"&&(r=Math.max(-1,r)),{...l,pageCount:r}}),e.getPageOptions=b(()=>[e.getPageCount()],n=>{let l=[];return n&&n>0&&(l=[...new Array(n)].fill(null).map((i,r)=>r)),l},$(e.options,"debugTable")),e.getCanPreviousPage=()=>e.getState().pagination.pageIndex>0,e.getCanNextPage=()=>{const{pageIndex:n}=e.getState().pagination,l=e.getPageCount();return l===-1?!0:l===0?!1:n<l-1},e.previousPage=()=>e.setPageIndex(n=>n-1),e.nextPage=()=>e.setPageIndex(n=>n+1),e.firstPage=()=>e.setPageIndex(0),e.lastPage=()=>e.setPageIndex(e.getPageCount()-1),e.getPrePaginationRowModel=()=>e.getExpandedRowModel(),e.getPaginationRowModel=()=>(!e._getPaginationRowModel&&e.options.getPaginationRowModel&&(e._getPaginationRowModel=e.options.getPaginationRowModel(e)),e.options.manualPagination||!e._getPaginationRowModel?e.getPrePaginationRowModel():e._getPaginationRowModel()),e.getPageCount=()=>{var n;return(n=e.options.pageCount)!=null?n:Math.ceil(e.getRowCount()/e.getState().pagination.pageSize)},e.getRowCount=()=>{var n;return(n=e.options.rowCount)!=null?n:e.getPrePaginationRowModel().rows.length}}},je=()=>({top:[],bottom:[]}),Yo={getInitialState:e=>({rowPinning:je(),...e}),getDefaultOptions:e=>({onRowPinningChange:re("rowPinning",e)}),createRow:(e,o)=>{e.pin=(t,n,l)=>{const i=n?e.getLeafRows().map(d=>{let{id:s}=d;return s}):[],r=l?e.getParentRows().map(d=>{let{id:s}=d;return s}):[],u=new Set([...r,e.id,...i]);o.setRowPinning(d=>{var s,g;if(t==="bottom"){var p,c;return{top:((p=d?.top)!=null?p:[]).filter(v=>!(u!=null&&u.has(v))),bottom:[...((c=d?.bottom)!=null?c:[]).filter(v=>!(u!=null&&u.has(v))),...Array.from(u)]}}if(t==="top"){var a,m;return{top:[...((a=d?.top)!=null?a:[]).filter(v=>!(u!=null&&u.has(v))),...Array.from(u)],bottom:((m=d?.bottom)!=null?m:[]).filter(v=>!(u!=null&&u.has(v)))}}return{top:((s=d?.top)!=null?s:[]).filter(v=>!(u!=null&&u.has(v))),bottom:((g=d?.bottom)!=null?g:[]).filter(v=>!(u!=null&&u.has(v)))}})},e.getCanPin=()=>{var t;const{enableRowPinning:n,enablePinning:l}=o.options;return typeof n=="function"?n(e):(t=n??l)!=null?t:!0},e.getIsPinned=()=>{const t=[e.id],{top:n,bottom:l}=o.getState().rowPinning,i=t.some(u=>n?.includes(u)),r=t.some(u=>l?.includes(u));return i?"top":r?"bottom":!1},e.getPinnedIndex=()=>{var t,n;const l=e.getIsPinned();if(!l)return-1;const i=(t=l==="top"?o.getTopRows():o.getBottomRows())==null?void 0:t.map(r=>{let{id:u}=r;return u});return(n=i?.indexOf(e.id))!=null?n:-1}},createTable:e=>{e.setRowPinning=o=>e.options.onRowPinningChange==null?void 0:e.options.onRowPinningChange(o),e.resetRowPinning=o=>{var t,n;return e.setRowPinning(o?je():(t=(n=e.initialState)==null?void 0:n.rowPinning)!=null?t:je())},e.getIsSomeRowsPinned=o=>{var t;const n=e.getState().rowPinning;if(!o){var l,i;return!!((l=n.top)!=null&&l.length||(i=n.bottom)!=null&&i.length)}return!!((t=n[o])!=null&&t.length)},e._getPinnedRows=(o,t,n)=>{var l;return((l=e.options.keepPinnedRows)==null||l?(t??[]).map(r=>{const u=e.getRow(r,!0);return u.getIsAllParentsExpanded()?u:null}):(t??[]).map(r=>o.find(u=>u.id===r))).filter(Boolean).map(r=>({...r,position:n}))},e.getTopRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.top],(o,t)=>e._getPinnedRows(o,t,"top"),$(e.options,"debugRows")),e.getBottomRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.bottom],(o,t)=>e._getPinnedRows(o,t,"bottom"),$(e.options,"debugRows")),e.getCenterRows=b(()=>[e.getRowModel().rows,e.getState().rowPinning.top,e.getState().rowPinning.bottom],(o,t,n)=>{const l=new Set([...t??[],...n??[]]);return o.filter(i=>!l.has(i.id))},$(e.options,"debugRows"))}},Jo={getInitialState:e=>({rowSelection:{},...e}),getDefaultOptions:e=>({onRowSelectionChange:re("rowSelection",e),enableRowSelection:!0,enableMultiRowSelection:!0,enableSubRowSelection:!0}),createTable:e=>{e.setRowSelection=o=>e.options.onRowSelectionChange==null?void 0:e.options.onRowSelectionChange(o),e.resetRowSelection=o=>{var t;return e.setRowSelection(o?{}:(t=e.initialState.rowSelection)!=null?t:{})},e.toggleAllRowsSelected=o=>{e.setRowSelection(t=>{o=typeof o<"u"?o:!e.getIsAllRowsSelected();const n={...t},l=e.getPreGroupedRowModel().flatRows;return o?l.forEach(i=>{i.getCanSelect()&&(n[i.id]=!0)}):l.forEach(i=>{delete n[i.id]}),n})},e.toggleAllPageRowsSelected=o=>e.setRowSelection(t=>{const n=typeof o<"u"?o:!e.getIsAllPageRowsSelected(),l={...t};return e.getRowModel().rows.forEach(i=>{et(l,i.id,n,!0,e)}),l}),e.getPreSelectedRowModel=()=>e.getCoreRowModel(),e.getSelectedRowModel=b(()=>[e.getState().rowSelection,e.getCoreRowModel()],(o,t)=>Object.keys(o).length?Ke(e,t):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getFilteredSelectedRowModel=b(()=>[e.getState().rowSelection,e.getFilteredRowModel()],(o,t)=>Object.keys(o).length?Ke(e,t):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getGroupedSelectedRowModel=b(()=>[e.getState().rowSelection,e.getSortedRowModel()],(o,t)=>Object.keys(o).length?Ke(e,t):{rows:[],flatRows:[],rowsById:{}},$(e.options,"debugTable")),e.getIsAllRowsSelected=()=>{const o=e.getFilteredRowModel().flatRows,{rowSelection:t}=e.getState();let n=!!(o.length&&Object.keys(t).length);return n&&o.some(l=>l.getCanSelect()&&!t[l.id])&&(n=!1),n},e.getIsAllPageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows.filter(l=>l.getCanSelect()),{rowSelection:t}=e.getState();let n=!!o.length;return n&&o.some(l=>!t[l.id])&&(n=!1),n},e.getIsSomeRowsSelected=()=>{var o;const t=Object.keys((o=e.getState().rowSelection)!=null?o:{}).length;return t>0&&t<e.getFilteredRowModel().flatRows.length},e.getIsSomePageRowsSelected=()=>{const o=e.getPaginationRowModel().flatRows;return e.getIsAllPageRowsSelected()?!1:o.filter(t=>t.getCanSelect()).some(t=>t.getIsSelected()||t.getIsSomeSelected())},e.getToggleAllRowsSelectedHandler=()=>o=>{e.toggleAllRowsSelected(o.target.checked)},e.getToggleAllPageRowsSelectedHandler=()=>o=>{e.toggleAllPageRowsSelected(o.target.checked)}},createRow:(e,o)=>{e.toggleSelected=(t,n)=>{const l=e.getIsSelected();o.setRowSelection(i=>{var r;if(t=typeof t<"u"?t:!l,e.getCanSelect()&&l===t)return i;const u={...i};return et(u,e.id,t,(r=n?.selectChildren)!=null?r:!0,o),u})},e.getIsSelected=()=>{const{rowSelection:t}=o.getState();return ft(e,t)},e.getIsSomeSelected=()=>{const{rowSelection:t}=o.getState();return tt(e,t)==="some"},e.getIsAllSubRowsSelected=()=>{const{rowSelection:t}=o.getState();return tt(e,t)==="all"},e.getCanSelect=()=>{var t;return typeof o.options.enableRowSelection=="function"?o.options.enableRowSelection(e):(t=o.options.enableRowSelection)!=null?t:!0},e.getCanSelectSubRows=()=>{var t;return typeof o.options.enableSubRowSelection=="function"?o.options.enableSubRowSelection(e):(t=o.options.enableSubRowSelection)!=null?t:!0},e.getCanMultiSelect=()=>{var t;return typeof o.options.enableMultiRowSelection=="function"?o.options.enableMultiRowSelection(e):(t=o.options.enableMultiRowSelection)!=null?t:!0},e.getToggleSelectedHandler=()=>{const t=e.getCanSelect();return n=>{var l;t&&e.toggleSelected((l=n.target)==null?void 0:l.checked)}}}},et=(e,o,t,n,l)=>{var i;const r=l.getRow(o,!0);t?(r.getCanMultiSelect()||Object.keys(e).forEach(u=>delete e[u]),r.getCanSelect()&&(e[o]=!0)):delete e[o],n&&(i=r.subRows)!=null&&i.length&&r.getCanSelectSubRows()&&r.subRows.forEach(u=>et(e,u.id,t,n,l))};function Ke(e,o){const t=e.getState().rowSelection,n=[],l={},i=function(r,u){return r.map(d=>{var s;const g=ft(d,t);if(g&&(n.push(d),l[d.id]=d),(s=d.subRows)!=null&&s.length&&(d={...d,subRows:i(d.subRows)}),g)return d}).filter(Boolean)};return{rows:i(o.rows),flatRows:n,rowsById:l}}function ft(e,o){var t;return(t=o[e.id])!=null?t:!1}function tt(e,o,t){var n;if(!((n=e.subRows)!=null&&n.length))return!1;let l=!0,i=!1;return e.subRows.forEach(r=>{if(!(i&&!l)&&(r.getCanSelect()&&(ft(r,o)?i=!0:l=!1),r.subRows&&r.subRows.length)){const u=tt(r,o);u==="all"?i=!0:(u==="some"&&(i=!0),l=!1)}}),l?"all":i?"some":!1}const nt=/([0-9]+)/gm,Qo=(e,o,t)=>Tt(ve(e.getValue(t)).toLowerCase(),ve(o.getValue(t)).toLowerCase()),el=(e,o,t)=>Tt(ve(e.getValue(t)),ve(o.getValue(t))),tl=(e,o,t)=>mt(ve(e.getValue(t)).toLowerCase(),ve(o.getValue(t)).toLowerCase()),nl=(e,o,t)=>mt(ve(e.getValue(t)),ve(o.getValue(t))),ol=(e,o,t)=>{const n=e.getValue(t),l=o.getValue(t);return n>l?1:n<l?-1:0},ll=(e,o,t)=>mt(e.getValue(t),o.getValue(t));function mt(e,o){return e===o?0:e>o?1:-1}function ve(e){return typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?"":String(e):typeof e=="string"?e:""}function Tt(e,o){const t=e.split(nt).filter(Boolean),n=o.split(nt).filter(Boolean);for(;t.length&&n.length;){const l=t.shift(),i=n.shift(),r=parseInt(l,10),u=parseInt(i,10),d=[r,u].sort();if(isNaN(d[0])){if(l>i)return 1;if(i>l)return-1;continue}if(isNaN(d[1]))return isNaN(r)?-1:1;if(r>u)return 1;if(u>r)return-1}return t.length-n.length}const be={alphanumeric:Qo,alphanumericCaseSensitive:el,text:tl,textCaseSensitive:nl,datetime:ol,basic:ll},il={getInitialState:e=>({sorting:[],...e}),getDefaultColumnDef:()=>({sortingFn:"auto",sortUndefined:1}),getDefaultOptions:e=>({onSortingChange:re("sorting",e),isMultiSortEvent:o=>o.shiftKey}),createColumn:(e,o)=>{e.getAutoSortingFn=()=>{const t=o.getFilteredRowModel().flatRows.slice(10);let n=!1;for(const l of t){const i=l?.getValue(e.id);if(Object.prototype.toString.call(i)==="[object Date]")return be.datetime;if(typeof i=="string"&&(n=!0,i.split(nt).length>1))return be.alphanumeric}return n?be.text:be.basic},e.getAutoSortDir=()=>{const t=o.getFilteredRowModel().flatRows[0];return typeof t?.getValue(e.id)=="string"?"asc":"desc"},e.getSortingFn=()=>{var t,n;if(!e)throw new Error;return Ne(e.columnDef.sortingFn)?e.columnDef.sortingFn:e.columnDef.sortingFn==="auto"?e.getAutoSortingFn():(t=(n=o.options.sortingFns)==null?void 0:n[e.columnDef.sortingFn])!=null?t:be[e.columnDef.sortingFn]},e.toggleSorting=(t,n)=>{const l=e.getNextSortingOrder(),i=typeof t<"u"&&t!==null;o.setSorting(r=>{const u=r?.find(a=>a.id===e.id),d=r?.findIndex(a=>a.id===e.id);let s=[],g,p=i?t:l==="desc";if(r!=null&&r.length&&e.getCanMultiSort()&&n?u?g="toggle":g="add":r!=null&&r.length&&d!==r.length-1?g="replace":u?g="toggle":g="replace",g==="toggle"&&(i||l||(g="remove")),g==="add"){var c;s=[...r,{id:e.id,desc:p}],s.splice(0,s.length-((c=o.options.maxMultiSortColCount)!=null?c:Number.MAX_SAFE_INTEGER))}else g==="toggle"?s=r.map(a=>a.id===e.id?{...a,desc:p}:a):g==="remove"?s=r.filter(a=>a.id!==e.id):s=[{id:e.id,desc:p}];return s})},e.getFirstSortDir=()=>{var t,n;return((t=(n=e.columnDef.sortDescFirst)!=null?n:o.options.sortDescFirst)!=null?t:e.getAutoSortDir()==="desc")?"desc":"asc"},e.getNextSortingOrder=t=>{var n,l;const i=e.getFirstSortDir(),r=e.getIsSorted();return r?r!==i&&((n=o.options.enableSortingRemoval)==null||n)&&(!(t&&(l=o.options.enableMultiRemove)!=null)||l)?!1:r==="desc"?"asc":"desc":i},e.getCanSort=()=>{var t,n;return((t=e.columnDef.enableSorting)!=null?t:!0)&&((n=o.options.enableSorting)!=null?n:!0)&&!!e.accessorFn},e.getCanMultiSort=()=>{var t,n;return(t=(n=e.columnDef.enableMultiSort)!=null?n:o.options.enableMultiSort)!=null?t:!!e.accessorFn},e.getIsSorted=()=>{var t;const n=(t=o.getState().sorting)==null?void 0:t.find(l=>l.id===e.id);return n?n.desc?"desc":"asc":!1},e.getSortIndex=()=>{var t,n;return(t=(n=o.getState().sorting)==null?void 0:n.findIndex(l=>l.id===e.id))!=null?t:-1},e.clearSorting=()=>{o.setSorting(t=>t!=null&&t.length?t.filter(n=>n.id!==e.id):[])},e.getToggleSortingHandler=()=>{const t=e.getCanSort();return n=>{t&&(n.persist==null||n.persist(),e.toggleSorting==null||e.toggleSorting(void 0,e.getCanMultiSort()?o.options.isMultiSortEvent==null?void 0:o.options.isMultiSortEvent(n):!1))}}},createTable:e=>{e.setSorting=o=>e.options.onSortingChange==null?void 0:e.options.onSortingChange(o),e.resetSorting=o=>{var t,n;e.setSorting(o?[]:(t=(n=e.initialState)==null?void 0:n.sorting)!=null?t:[])},e.getPreSortedRowModel=()=>e.getGroupedRowModel(),e.getSortedRowModel=()=>(!e._getSortedRowModel&&e.options.getSortedRowModel&&(e._getSortedRowModel=e.options.getSortedRowModel(e)),e.options.manualSorting||!e._getSortedRowModel?e.getPreSortedRowModel():e._getSortedRowModel())}},rl=[$o,jo,Bo,ko,Po,Vo,Ko,Wo,il,qo,Xo,Zo,Yo,Jo,Go];function sl(e){var o,t;const n=[...rl,...(o=e._features)!=null?o:[]];let l={_features:n};const i=l._features.reduce((c,a)=>Object.assign(c,a.getDefaultOptions==null?void 0:a.getDefaultOptions(l)),{}),r=c=>l.options.mergeOptions?l.options.mergeOptions(i,c):{...i,...c};let d={...{},...(t=e.initialState)!=null?t:{}};l._features.forEach(c=>{var a;d=(a=c.getInitialState==null?void 0:c.getInitialState(d))!=null?a:d});const s=[];let g=!1;const p={_features:n,options:{...i,...e},initialState:d,_queue:c=>{s.push(c),g||(g=!0,Promise.resolve().then(()=>{for(;s.length;)s.shift()();g=!1}).catch(a=>setTimeout(()=>{throw a})))},reset:()=>{l.setState(l.initialState)},setOptions:c=>{const a=me(c,l.options);l.options=r(a)},getState:()=>l.options.state,setState:c=>{l.options.onStateChange==null||l.options.onStateChange(c)},_getRowId:(c,a,m)=>{var v;return(v=l.options.getRowId==null?void 0:l.options.getRowId(c,a,m))!=null?v:`${m?[m.id,a].join("."):a}`},getCoreRowModel:()=>(l._getCoreRowModel||(l._getCoreRowModel=l.options.getCoreRowModel(l)),l._getCoreRowModel()),getRowModel:()=>l.getPaginationRowModel(),getRow:(c,a)=>{let m=(a?l.getPrePaginationRowModel():l.getRowModel()).rowsById[c];if(!m&&(m=l.getCoreRowModel().rowsById[c],!m))throw new Error;return m},_getDefaultColumnDef:b(()=>[l.options.defaultColumn],c=>{var a;return c=(a=c)!=null?a:{},{header:m=>{const v=m.header.column.columnDef;return v.accessorKey?v.accessorKey:v.accessorFn?v.id:null},cell:m=>{var v,S;return(v=(S=m.renderValue())==null||S.toString==null?void 0:S.toString())!=null?v:null},...l._features.reduce((m,v)=>Object.assign(m,v.getDefaultColumnDef==null?void 0:v.getDefaultColumnDef()),{}),...c}},$(e,"debugColumns")),_getColumnDefs:()=>l.options.columns,getAllColumns:b(()=>[l._getColumnDefs()],c=>{const a=function(m,v,S){return S===void 0&&(S=0),m.map(y=>{const h=bo(l,y,S,v),M=y;return h.columns=M.columns?a(M.columns,h,S+1):[],h})};return a(c)},$(e,"debugColumns")),getAllFlatColumns:b(()=>[l.getAllColumns()],c=>c.flatMap(a=>a.getFlatColumns()),$(e,"debugColumns")),_getAllFlatColumnsById:b(()=>[l.getAllFlatColumns()],c=>c.reduce((a,m)=>(a[m.id]=m,a),{}),$(e,"debugColumns")),getAllLeafColumns:b(()=>[l.getAllColumns(),l._getOrderColumnsFn()],(c,a)=>{let m=c.flatMap(v=>v.getLeafColumns());return a(m)},$(e,"debugColumns")),getColumn:c=>l._getAllFlatColumnsById()[c]};Object.assign(l,p);for(let c=0;c<l._features.length;c++){const a=l._features[c];a==null||a.createTable==null||a.createTable(l)}return l}function al(){return e=>b(()=>[e.options.data],o=>{const t={rows:[],flatRows:[],rowsById:{}},n=function(l,i,r){i===void 0&&(i=0);const u=[];for(let s=0;s<l.length;s++){const g=ct(e,e._getRowId(l[s],s,r),l[s],s,i,void 0,r?.id);if(t.flatRows.push(g),t.rowsById[g.id]=g,u.push(g),e.options.getSubRows){var d;g.originalSubRows=e.options.getSubRows(l[s],s),(d=g.originalSubRows)!=null&&d.length&&(g.subRows=n(g.originalSubRows,i+1,g))}}return u};return t.rows=n(o),t},$(e.options,"debugTable","getRowModel",()=>e._autoResetPageIndex()))}function ul(){return e=>b(()=>[e.getState().expanded,e.getPreExpandedRowModel(),e.options.paginateExpandedRows],(o,t,n)=>!t.rows.length||o!==!0&&!Object.keys(o??{}).length||!n?t:dl(t),$(e.options,"debugTable"))}function dl(e){const o=[],t=n=>{var l;o.push(n),(l=n.subRows)!=null&&l.length&&n.getIsExpanded()&&n.subRows.forEach(t)};return e.rows.forEach(t),{rows:o,flatRows:e.flatRows,rowsById:e.rowsById}}function gl(e,o,t){return t.options.filterFromLeafRows?cl(e,o,t):pl(e,o,t)}function cl(e,o,t){var n;const l=[],i={},r=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,u=function(d,s){s===void 0&&(s=0);const g=[];for(let c=0;c<d.length;c++){var p;let a=d[c];const m=ct(t,a.id,a.original,a.index,a.depth,void 0,a.parentId);if(m.columnFilters=a.columnFilters,(p=a.subRows)!=null&&p.length&&s<r){if(m.subRows=u(a.subRows,s+1),a=m,o(a)&&!m.subRows.length){g.push(a),i[a.id]=a,l.push(a);continue}if(o(a)||m.subRows.length){g.push(a),i[a.id]=a,l.push(a);continue}}else a=m,o(a)&&(g.push(a),i[a.id]=a,l.push(a))}return g};return{rows:u(e),flatRows:l,rowsById:i}}function pl(e,o,t){var n;const l=[],i={},r=(n=t.options.maxLeafRowFilterDepth)!=null?n:100,u=function(d,s){s===void 0&&(s=0);const g=[];for(let c=0;c<d.length;c++){let a=d[c];if(o(a)){var p;if((p=a.subRows)!=null&&p.length&&s<r){const v=ct(t,a.id,a.original,a.index,a.depth,void 0,a.parentId);v.subRows=u(a.subRows,s+1),a=v}g.push(a),l.push(a),i[a.id]=a}}return g};return{rows:u(e),flatRows:l,rowsById:i}}function fl(){return e=>b(()=>[e.getPreFilteredRowModel(),e.getState().columnFilters,e.getState().globalFilter],(o,t,n)=>{if(!o.rows.length||!(t!=null&&t.length)&&!n){for(let c=0;c<o.flatRows.length;c++)o.flatRows[c].columnFilters={},o.flatRows[c].columnFiltersMeta={};return o}const l=[],i=[];(t??[]).forEach(c=>{var a;const m=e.getColumn(c.id);if(!m)return;const v=m.getFilterFn();v&&l.push({id:c.id,filterFn:v,resolvedValue:(a=v.resolveFilterValue==null?void 0:v.resolveFilterValue(c.value))!=null?a:c.value})});const r=(t??[]).map(c=>c.id),u=e.getGlobalFilterFn(),d=e.getAllLeafColumns().filter(c=>c.getCanGlobalFilter());n&&u&&d.length&&(r.push("__global__"),d.forEach(c=>{var a;i.push({id:c.id,filterFn:u,resolvedValue:(a=u.resolveFilterValue==null?void 0:u.resolveFilterValue(n))!=null?a:n})}));let s,g;for(let c=0;c<o.flatRows.length;c++){const a=o.flatRows[c];if(a.columnFilters={},l.length)for(let m=0;m<l.length;m++){s=l[m];const v=s.id;a.columnFilters[v]=s.filterFn(a,v,s.resolvedValue,S=>{a.columnFiltersMeta[v]=S})}if(i.length){for(let m=0;m<i.length;m++){g=i[m];const v=g.id;if(g.filterFn(a,v,g.resolvedValue,S=>{a.columnFiltersMeta[v]=S})){a.columnFilters.__global__=!0;break}}a.columnFilters.__global__!==!0&&(a.columnFilters.__global__=!1)}}const p=c=>{for(let a=0;a<r.length;a++)if(c.columnFilters[r[a]]===!1)return!1;return!0};return gl(o.rows,p,e)},$(e.options,"debugTable","getFilteredRowModel",()=>e._autoResetPageIndex()))}function ml(){return e=>b(()=>[e.getState().sorting,e.getPreSortedRowModel()],(o,t)=>{if(!t.rows.length||!(o!=null&&o.length))return t;const n=e.getState().sorting,l=[],i=n.filter(d=>{var s;return(s=e.getColumn(d.id))==null?void 0:s.getCanSort()}),r={};i.forEach(d=>{const s=e.getColumn(d.id);s&&(r[d.id]={sortUndefined:s.columnDef.sortUndefined,invertSorting:s.columnDef.invertSorting,sortingFn:s.getSortingFn()})});const u=d=>{const s=d.map(g=>({...g}));return s.sort((g,p)=>{for(let a=0;a<i.length;a+=1){var c;const m=i[a],v=r[m.id],S=v.sortUndefined,y=(c=m?.desc)!=null?c:!1;let h=0;if(S){const M=g.getValue(m.id),j=p.getValue(m.id),E=M===void 0,B=j===void 0;if(E||B){if(S==="first")return E?-1:1;if(S==="last")return E?1:-1;h=E&&B?0:E?S:-S}}if(h===0&&(h=v.sortingFn(g,p,m.id)),h!==0)return y&&(h*=-1),v.invertSorting&&(h*=-1),h}return g.index-p.index}),s.forEach(g=>{var p;l.push(g),(p=g.subRows)!=null&&p.length&&(g.subRows=u(g.subRows))}),s};return{rows:u(t.rows),flatRows:l,rowsById:t.rowsById}},$(e.options,"debugTable","getSortedRowModel",()=>e._autoResetPageIndex()))}/**
   * vue-table
   *
   * Copyright (c) TanStack
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE.md file in the root directory of this source tree.
   *
   * @license MIT
   */function Ae(){return!0}const vl=Symbol("merge-proxy"),yl={get(e,o,t){return o===vl?t:e.get(o)},has(e,o){return e.has(o)},set:Ae,deleteProperty:Ae,getOwnPropertyDescriptor(e,o){return{configurable:!0,enumerable:!0,get(){return e.get(o)},set:Ae,deleteProperty:Ae}},ownKeys(e){return e.keys()}};function We(e){return"value"in e?e.value:e}function $e(){for(var e=arguments.length,o=new Array(e),t=0;t<e;t++)o[t]=arguments[t];return new Proxy({get(n){for(let l=o.length-1;l>=0;l--){const i=We(o[l])[n];if(i!==void 0)return i}},has(n){for(let l=o.length-1;l>=0;l--)if(n in We(o[l]))return!0;return!1},keys(){const n=[];for(let l=0;l<o.length;l++)n.push(...Object.keys(We(o[l])));return[...Array.from(new Set(n))]}},yl)}const Xe=Y({props:["render","props"],setup:e=>()=>typeof e.render=="function"||typeof e.render=="object"?ae(e.render,e.props):e.render});function xt(e){return $e(e,{data:f(e.data)})}function Cl(e){const o=se(e.data),t=$e({state:{},onStateChange:()=>{},renderFallbackValue:null,mergeOptions(i,r){return o?{...i,...r}:$e(i,r)}},o?xt(e):e),n=sl(t);if(o){const i=en(e.data);Q(i,()=>{n.setState(r=>({...r,data:i.value}))},{immediate:!0})}const l=N(n.initialState);return tn(()=>{n.setOptions(i=>{var r;const u=new Proxy({},{get:(d,s)=>l.value[s]});return $e(i,o?xt(e):e,{state:$e(u,(r=e.state)!=null?r:{}),onStateChange:d=>{d instanceof Function?l.value=d(l.value):l.value=d,e.onStateChange==null||e.onStateChange(d)}})})}),n}const Sl={slots:{root:"relative overflow-auto",base:"min-w-full overflow-clip",caption:"sr-only",thead:"relative",tbody:"divide-y divide-default [&>tr]:data-[selectable=true]:hover:bg-elevated/50 [&>tr]:data-[selectable=true]:focus-visible:outline-primary",tfoot:"relative",tr:"data-[selected=true]:bg-elevated/50",th:"px-4 py-3.5 text-sm text-highlighted text-left rtl:text-right font-semibold [&:has([role=checkbox])]:pe-0",td:"p-4 text-sm text-muted whitespace-nowrap [&:has([role=checkbox])]:pe-0",separator:"absolute z-[1] left-0 w-full h-px bg-(--ui-border-accented)",empty:"py-6 text-center text-sm text-muted",loading:"py-6 text-center"},variants:{pinned:{true:{th:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0",td:"sticky bg-default/75 data-[pinned=left]:left-0 data-[pinned=right]:right-0"}},sticky:{true:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur",tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},header:{thead:"sticky top-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"},footer:{tfoot:"sticky bottom-0 inset-x-0 bg-default/75 z-[1] backdrop-blur"}},loading:{true:{thead:"after:absolute after:z-[1] after:h-px"}},loadingAnimation:{carousel:"","carousel-inverse":"",swing:"",elastic:""},loadingColor:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""}},compoundVariants:[{loading:!0,loadingColor:"primary",class:{thead:"after:bg-primary"}},{loading:!0,loadingColor:"secondary",class:{thead:"after:bg-secondary"}},{loading:!0,loadingColor:"success",class:{thead:"after:bg-success"}},{loading:!0,loadingColor:"info",class:{thead:"after:bg-info"}},{loading:!0,loadingColor:"warning",class:{thead:"after:bg-warning"}},{loading:!0,loadingColor:"error",class:{thead:"after:bg-error"}},{loading:!0,loadingColor:"neutral",class:{thead:"after:bg-inverted"}},{loading:!0,loadingAnimation:"carousel",class:{thead:"after:animate-[carousel_2s_ease-in-out_infinite] rtl:after:animate-[carousel-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"carousel-inverse",class:{thead:"after:animate-[carousel-inverse_2s_ease-in-out_infinite] rtl:after:animate-[carousel-inverse-rtl_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"swing",class:{thead:"after:animate-[swing_2s_ease-in-out_infinite]"}},{loading:!0,loadingAnimation:"elastic",class:{thead:"after:animate-[elastic_2s_ease-in-out_infinite]"}}],defaultVariants:{loadingColor:"primary",loadingAnimation:"carousel"}},hl=["data-pinned","scope","colspan","rowspan"],wl=["data-selected","data-selectable","data-expanded","role","tabindex","onClick","onPointerenter","onContextmenu"],Rl=["data-pinned","colspan","rowspan"],xl=["colspan"],_l={key:1},Fl=["colspan"],bl={key:2},$l=["colspan"],Pl=["data-pinned","colspan","rowspan"],Vl={__name:"UTable",props:Ze({as:{type:null,required:!1},data:{type:Array,required:!1},columns:{type:Array,required:!1},caption:{type:String,required:!1},meta:{type:Object,required:!1},empty:{type:String,required:!1},sticky:{type:[Boolean,String],required:!1},loading:{type:Boolean,required:!1},loadingColor:{type:null,required:!1},loadingAnimation:{type:null,required:!1},watchOptions:{type:Object,required:!1,default:()=>({deep:!0})},globalFilterOptions:{type:Object,required:!1},columnFiltersOptions:{type:Object,required:!1},columnPinningOptions:{type:Object,required:!1},columnSizingOptions:{type:Object,required:!1},visibilityOptions:{type:Object,required:!1},sortingOptions:{type:Object,required:!1},groupingOptions:{type:Object,required:!1},expandedOptions:{type:Object,required:!1},rowSelectionOptions:{type:Object,required:!1},rowPinningOptions:{type:Object,required:!1},paginationOptions:{type:Object,required:!1},facetedOptions:{type:Object,required:!1},onSelect:{type:Function,required:!1},onHover:{type:Function,required:!1},onContextmenu:{type:[Function,Array],required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},state:{type:Object,required:!1},onStateChange:{type:Function,required:!1},renderFallbackValue:{type:null,required:!1},_features:{type:Array,required:!1},autoResetAll:{type:Boolean,required:!1},debugAll:{type:Boolean,required:!1},debugCells:{type:Boolean,required:!1},debugColumns:{type:Boolean,required:!1},debugHeaders:{type:Boolean,required:!1},debugRows:{type:Boolean,required:!1},debugTable:{type:Boolean,required:!1},defaultColumn:{type:Object,required:!1},getRowId:{type:Function,required:!1},getSubRows:{type:Function,required:!1},initialState:{type:Object,required:!1},mergeOptions:{type:Function,required:!1}},{globalFilter:{type:String,default:void 0},globalFilterModifiers:{},columnFilters:{type:Array,default:[]},columnFiltersModifiers:{},columnOrder:{type:Array,default:[]},columnOrderModifiers:{},columnVisibility:{type:Object,default:{}},columnVisibilityModifiers:{},columnPinning:{type:Object,default:{}},columnPinningModifiers:{},columnSizing:{type:Object,default:{}},columnSizingModifiers:{},columnSizingInfo:{type:Object,default:{}},columnSizingInfoModifiers:{},rowSelection:{type:Object,default:{}},rowSelectionModifiers:{},rowPinning:{type:Object,default:{}},rowPinningModifiers:{},sorting:{type:Array,default:[]},sortingModifiers:{},grouping:{type:Array,default:[]},groupingModifiers:{},expanded:{type:[Boolean,Object],default:{}},expandedModifiers:{},pagination:{type:Object,default:{}},paginationModifiers:{}}),emits:["update:globalFilter","update:columnFilters","update:columnOrder","update:columnVisibility","update:columnPinning","update:columnSizing","update:columnSizingInfo","update:rowSelection","update:rowPinning","update:sorting","update:grouping","update:expanded","update:pagination"],setup(e,{expose:o}){const t=e,n=ot(),{t:l}=it(),i=lt(),r=N(t.data??[]),u=G(()=>t.columns??Object.keys(r.value[0]??{}).map(C=>({accessorKey:C,header:Ro(C)}))),d=G(()=>t.meta??{}),s=G(()=>Re({extend:Re(Sl),...i.ui?.table||{}})({sticky:t.sticky,loading:t.loading,loadingColor:t.loadingColor,loadingAnimation:t.loadingAnimation})),g=G(()=>{function C(I){for(const D of I)if("footer"in D||"columns"in D&&C(D.columns))return!0;return!1}return C(u.value)}),p=ne(e,"globalFilter",{type:String,default:void 0}),c=ne(e,"columnFilters",{type:Array,default:[]}),a=ne(e,"columnOrder",{type:Array,default:[]}),m=ne(e,"columnVisibility",{type:Object,default:{}}),v=ne(e,"columnPinning",{type:Object,default:{}}),S=ne(e,"columnSizing",{type:Object,default:{}}),y=ne(e,"columnSizingInfo",{type:Object,default:{}}),h=ne(e,"rowSelection",{type:Object,default:{}}),M=ne(e,"rowPinning",{type:Object,default:{}}),j=ne(e,"sorting",{type:Array,default:[]}),E=ne(e,"grouping",{type:Array,default:[]}),B=ne(e,"expanded",{type:[Boolean,Object],default:{}}),le=ne(e,"pagination",{type:Object,default:{}}),k=N(null),Z=Cl({...nn(t,"as","data","columns","caption","sticky","loading","loadingColor","loadingAnimation","class","ui"),data:r,get columns(){return u.value},meta:d.value,getCoreRowModel:al(),...t.globalFilterOptions||{},onGlobalFilterChange:C=>W(C,p),...t.columnFiltersOptions||{},getFilteredRowModel:fl(),onColumnFiltersChange:C=>W(C,c),onColumnOrderChange:C=>W(C,a),...t.visibilityOptions||{},onColumnVisibilityChange:C=>W(C,m),...t.columnPinningOptions||{},onColumnPinningChange:C=>W(C,v),...t.columnSizingOptions||{},onColumnSizingChange:C=>W(C,S),onColumnSizingInfoChange:C=>W(C,y),...t.rowSelectionOptions||{},onRowSelectionChange:C=>W(C,h),...t.rowPinningOptions||{},onRowPinningChange:C=>W(C,M),...t.sortingOptions||{},getSortedRowModel:ml(),onSortingChange:C=>W(C,j),...t.groupingOptions||{},onGroupingChange:C=>W(C,E),...t.expandedOptions||{},getExpandedRowModel:ul(),onExpandedChange:C=>W(C,B),...t.paginationOptions||{},onPaginationChange:C=>W(C,le),...t.facetedOptions||{},state:{get globalFilter(){return p.value},get columnFilters(){return c.value},get columnOrder(){return a.value},get columnVisibility(){return m.value},get columnPinning(){return v.value},get expanded(){return B.value},get rowSelection(){return h.value},get sorting(){return j.value},get grouping(){return E.value},get rowPinning(){return M.value},get columnSizing(){return S.value},get columnSizingInfo(){return y.value},get pagination(){return le.value}}});function W(C,I){I.value=typeof C=="function"?C(I.value):C}function z(C,I){if(!t.onSelect)return;const D=C.target;D.closest("button")||D.closest("a")||(C.preventDefault(),C.stopPropagation(),t.onSelect(I,C))}function J(C,I){t.onHover&&t.onHover(C,I)}function T(C,I){t.onContextmenu&&(Array.isArray(t.onContextmenu)?t.onContextmenu.forEach(D=>D(C,I)):t.onContextmenu(C,I))}function L(C,I){return typeof C=="function"?C(I):C}return Q(()=>t.data,()=>{r.value=t.data?[...t.data]:[]},t.watchOptions),o({tableRef:k,tableApi:Z}),(C,I)=>(w(),q(f(de),{as:e.as,class:O(s.value.root({class:[t.ui?.root,t.class]}))},{default:_(()=>[V("table",{ref_key:"tableRef",ref:k,class:O(s.value.base({class:[t.ui?.base]}))},[e.caption||n.caption?(w(),P("caption",{key:0,class:O(s.value.caption({class:[t.ui?.caption]}))},[A(C.$slots,"caption",{},()=>[H(X(e.caption),1)])],2)):U("",!0),V("thead",{class:O(s.value.thead({class:[t.ui?.thead]}))},[(w(!0),P(te,null,pe(f(Z).getHeaderGroups(),D=>(w(),P("tr",{key:D.id,class:O(s.value.tr({class:[t.ui?.tr]}))},[(w(!0),P(te,null,pe(D.headers,x=>(w(),P("th",{key:x.id,"data-pinned":x.column.getIsPinned(),scope:x.colSpan>1?"colgroup":"col",colspan:x.colSpan>1?x.colSpan:void 0,rowspan:x.rowSpan>1?x.rowSpan:void 0,class:O(s.value.th({class:[t.ui?.th,L(x.column.columnDef.meta?.class?.th,x)],pinned:!!x.column.getIsPinned()}))},[A(C.$slots,`${x.id}-header`,ie({ref_for:!0},x.getContext()),()=>[x.isPlaceholder?U("",!0):(w(),q(f(Xe),{key:0,render:x.column.columnDef.header,props:x.getContext()},null,8,["render","props"]))])],10,hl))),128))],2))),128)),V("tr",{class:O(s.value.separator({class:[t.ui?.separator]}))},null,2)],2),V("tbody",{class:O(s.value.tbody({class:[t.ui?.tbody]}))},[A(C.$slots,"body-top"),f(Z).getRowModel().rows?.length?(w(!0),P(te,{key:0},pe(f(Z).getRowModel().rows,D=>(w(),P(te,{key:D.id},[V("tr",{"data-selected":D.getIsSelected(),"data-selectable":!!t.onSelect||!!t.onHover||!!t.onContextmenu,"data-expanded":D.getIsExpanded(),role:t.onSelect?"button":void 0,tabindex:t.onSelect?0:void 0,class:O(s.value.tr({class:[t.ui?.tr,L(f(Z).options.meta?.class?.tr,D)]})),style:Le(L(f(Z).options.meta?.style?.tr,D)),onClick:x=>z(x,D),onPointerenter:x=>J(x,D),onPointerleave:I[0]||(I[0]=x=>J(x,null)),onContextmenu:x=>T(x,D)},[(w(!0),P(te,null,pe(D.getVisibleCells(),x=>(w(),P("td",{key:x.id,"data-pinned":x.column.getIsPinned(),colspan:L(x.column.columnDef.meta?.colspan?.td,x),rowspan:L(x.column.columnDef.meta?.rowspan?.td,x),class:O(s.value.td({class:[t.ui?.td,L(x.column.columnDef.meta?.class?.td,x)],pinned:!!x.column.getIsPinned()})),style:Le(L(x.column.columnDef.meta?.style?.td,x))},[A(C.$slots,`${x.column.id}-cell`,ie({ref_for:!0},x.getContext()),()=>[R(f(Xe),{render:x.column.columnDef.cell,props:x.getContext()},null,8,["render","props"])])],14,Rl))),128))],46,wl),D.getIsExpanded()?(w(),P("tr",{key:0,class:O(s.value.tr({class:[t.ui?.tr]}))},[V("td",{colspan:D.getAllCells().length,class:O(s.value.td({class:[t.ui?.td]}))},[A(C.$slots,"expanded",{row:D})],10,xl)],2)):U("",!0)],64))),128)):e.loading&&n.loading?(w(),P("tr",_l,[V("td",{colspan:f(Z).getAllLeafColumns().length,class:O(s.value.loading({class:t.ui?.loading}))},[A(C.$slots,"loading")],10,Fl)])):(w(),P("tr",bl,[V("td",{colspan:f(Z).getAllLeafColumns().length,class:O(s.value.empty({class:t.ui?.empty}))},[A(C.$slots,"empty",{},()=>[H(X(e.empty||f(l)("table.noData")),1)])],10,$l)])),A(C.$slots,"body-bottom")],2),g.value?(w(),P("tfoot",{key:1,class:O(s.value.tfoot({class:[t.ui?.tfoot]}))},[V("tr",{class:O(s.value.separator({class:[t.ui?.separator]}))},null,2),(w(!0),P(te,null,pe(f(Z).getFooterGroups(),D=>(w(),P("tr",{key:D.id,class:O(s.value.tr({class:[t.ui?.tr]}))},[(w(!0),P(te,null,pe(D.headers,x=>(w(),P("th",{key:x.id,"data-pinned":x.column.getIsPinned(),colspan:x.colSpan>1?x.colSpan:void 0,rowspan:x.rowSpan>1?x.rowSpan:void 0,class:O(s.value.th({class:[t.ui?.th,L(x.column.columnDef.meta?.class?.th,x)],pinned:!!x.column.getIsPinned()})),style:Le(L(x.column.columnDef.meta?.style?.th,x))},[A(C.$slots,`${x.id}-footer`,ie({ref_for:!0},x.getContext()),()=>[x.isPlaceholder?U("",!0):(w(),q(f(Xe),{key:0,render:x.column.columnDef.footer,props:x.getContext()},null,8,["render","props"]))])],14,Pl))),128))],2))),128))],2)):U("",!0)],2)]),_:3},8,["as","class"]))}},Il={slots:{root:"",list:"flex items-center gap-1",ellipsis:"pointer-events-none",label:"min-w-5 text-center",first:"",prev:"",item:"",next:"",last:""}},Ml={__name:"UPagination",props:{as:{type:null,required:!1},firstIcon:{type:[String,Object],required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},lastIcon:{type:[String,Object],required:!1},ellipsisIcon:{type:[String,Object],required:!1},color:{type:null,required:!1,default:"neutral"},variant:{type:null,required:!1,default:"outline"},activeColor:{type:null,required:!1,default:"primary"},activeVariant:{type:null,required:!1,default:"solid"},showControls:{type:Boolean,required:!1,default:!0},size:{type:null,required:!1},to:{type:Function,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultPage:{type:Number,required:!1},disabled:{type:Boolean,required:!1},itemsPerPage:{type:Number,required:!1,default:10},page:{type:Number,required:!1},showEdges:{type:Boolean,required:!1,default:!1},siblingCount:{type:Number,required:!1,default:2},total:{type:Number,required:!1,default:0}},emits:["update:page"],setup(e,{emit:o}){const t=e,n=o,l=ot(),{dir:i}=it(),r=lt(),u=on(ln(t,"as","defaultPage","disabled","itemsPerPage","page","showEdges","siblingCount","total"),n),d=G(()=>t.firstIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleRight:r.ui.icons.chevronDoubleLeft)),s=G(()=>t.prevIcon||(i.value==="rtl"?r.ui.icons.chevronRight:r.ui.icons.chevronLeft)),g=G(()=>t.nextIcon||(i.value==="rtl"?r.ui.icons.chevronLeft:r.ui.icons.chevronRight)),p=G(()=>t.lastIcon||(i.value==="rtl"?r.ui.icons.chevronDoubleLeft:r.ui.icons.chevronDoubleRight)),c=G(()=>Re({extend:Re(Il),...r.ui?.pagination||{}})());return(a,m)=>(w(),q(f(wn),ie(f(u),{class:c.value.root({class:[t.ui?.root,t.class]})}),{default:_(({page:v,pageCount:S})=>[R(f(Vn),{class:O(c.value.list({class:t.ui?.list}))},{default:_(({items:y})=>[e.showControls||l.first?(w(),q(f(xn),{key:0,"as-child":"",class:O(c.value.first({class:t.ui?.first}))},{default:_(()=>[A(a.$slots,"first",{},()=>[R(oe,{color:e.color,variant:e.variant,size:e.size,icon:d.value,to:e.to?.(1)},null,8,["color","variant","size","icon","to"])])]),_:3},8,["class"])):U("",!0),e.showControls||l.prev?(w(),q(f(An),{key:1,"as-child":"",class:O(c.value.prev({class:t.ui?.prev}))},{default:_(()=>[A(a.$slots,"prev",{},()=>[R(oe,{color:e.color,variant:e.variant,size:e.size,icon:s.value,to:v>1?e.to?.(v-1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):U("",!0),(w(!0),P(te,null,pe(y,(h,M)=>(w(),P(te,null,[h.type==="page"?(w(),q(f(Mn),{key:M,"as-child":"",value:h.value,class:O(c.value.item({class:t.ui?.item}))},{default:_(()=>[A(a.$slots,"item",ie({ref_for:!0},{item:h,index:M,page:v,pageCount:S}),()=>[R(oe,{color:v===h.value?e.activeColor:e.color,variant:v===h.value?e.activeVariant:e.variant,size:e.size,label:String(h.value),ui:{label:c.value.label()},to:e.to?.(h.value),square:""},null,8,["color","variant","size","label","ui","to"])])]),_:2},1032,["value","class"])):(w(),q(f(Cn),{key:h.type,index:M,"as-child":"",class:O(c.value.ellipsis({class:t.ui?.ellipsis}))},{default:_(()=>[A(a.$slots,"ellipsis",{},()=>[R(oe,{color:e.color,variant:e.variant,size:e.size,icon:e.ellipsisIcon||f(r).ui.icons.ellipsis},null,8,["color","variant","size","icon"])])]),_:3},8,["index","class"]))],64))),256)),e.showControls||l.next?(w(),q(f(On),{key:2,"as-child":"",class:O(c.value.next({class:t.ui?.next}))},{default:_(()=>[A(a.$slots,"next",{},()=>[R(oe,{color:e.color,variant:e.variant,size:e.size,icon:g.value,to:v<S?e.to?.(v+1):void 0},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):U("",!0),e.showControls||l.last?(w(),q(f(Fn),{key:3,"as-child":"",class:O(c.value.last({class:t.ui?.last}))},{default:_(()=>[A(a.$slots,"last",{},()=>[R(oe,{color:e.color,variant:e.variant,size:e.size,icon:p.value,to:e.to?.(S)},null,8,["color","variant","size","icon","to"])])]),_:2},1032,["class"])):U("",!0)]),_:2},1032,["class"])]),_:3},16,["class"]))}};function vt(e,o){return[{type:"label",label:"Actions"},{type:"separator"},{label:"Edit",onSelect:()=>o.openEditDialog(e.original)},{label:"Delete",onSelect:()=>o.openConfirmDeleteDialog(e.original)}]}function Dl(e,o,t,n){const{UButton:l,UDropdownMenu:i}=o;return[{id:"actions",meta:{class:{th:"w-20",td:"w-20 text-md"}},cell:({row:r})=>ae(t,{src:r.original.avatarUrl||"/images/noAvatar.jpg",size:"3xl",ui:{image:"cursor-pointer"},onClick:()=>n(r.original.avatarUrl)})},{accessorKey:"idNumber",header:"ID Number",meta:{class:{th:"w-32",td:"w-32 text-md"}}},{accessorKey:"firstName",header:"First Name",meta:{class:{td:"text-md"}}},{accessorKey:"lastName",header:"Last Name",meta:{class:{td:"text-md"}}},{accessorKey:"yearLevel",header:"Year Level",meta:{class:{th:"w-24",td:"w-24 text-md"}}},{accessorKey:"gender",header:"Gender",meta:{class:{th:"w-24",td:"w-24 text-md"}}},{accessorKey:"programCode",header:"Program Code",meta:{class:{th:"w-42",td:"w-42 text-md"}}},{id:"actions",cell:({row:r})=>ae("div",ae(i,{content:{align:"end"},items:vt(r,e),"aria-label":"Actions dropdown"},()=>ae(l,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto","aria-label":"Actions dropdown"}))),meta:{class:{th:"w-16",td:"w-16"}}}]}function Ol(e,o){const{UButton:t,UDropdownMenu:n}=o;return[{accessorKey:"programCode",header:"Program Code",meta:{class:{th:"w-42",td:"w-42 text-md"}}},{accessorKey:"programName",header:"Program Name",meta:{class:{td:"text-md"}}},{accessorKey:"collegeCode",header:"College Code",meta:{class:{th:"w-42",td:"w-42 text-md"}}},{id:"actions",cell:({row:l})=>ae("div",ae(n,{content:{align:"end"},items:vt(l,e),"aria-label":"Actions dropdown"},()=>ae(t,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto","aria-label":"Actions dropdown"}))),meta:{class:{th:"w-16",td:"w-16"}}}]}function El(e,o){const{UButton:t,UDropdownMenu:n}=o;return[{accessorKey:"collegeCode",header:"College Code",meta:{class:{th:"w-42",td:"w-42 text-md"}}},{accessorKey:"collegeName",header:"College Name",meta:{class:{td:"text-md"}}},{id:"actions",cell:({row:l})=>ae("div",ae(n,{content:{align:"end"},items:vt(l,e),"aria-label":"Actions dropdown"},()=>ae(t,{icon:"i-lucide-ellipsis-vertical",color:"neutral",variant:"ghost",class:"ml-auto","aria-label":"Actions dropdown"}))),meta:{class:{th:"w-16",td:"w-16"}}}]}function Al(e,o){const{$apiFetch:t}=Ie();return t(`/api/${e}/`,{method:"GET",credentials:"include",query:{...o||{}}})}const zl={class:"flex justify-center"},Tl=300,Nl=Y({__name:"EntityTable",props:{entityType:{},searchValue:{},searchBy:{},searchType:{},sortField:{},sortOrder:{},createEntitySubmitRef:{type:Boolean}},emits:["update:searchValue","update:searchBy","update:searchType","update:sortField","update:sortOrder","disableCreateEntitySubmit"],setup(e,{emit:o}){const t=e,n=rn(),l=Ft(),i=N(!1),r=N(!1),u=N(""),d=N(!1),s=N(""),g=N(t.searchValue),p=N(t.searchBy),c=N(t.searchType),a=N(t.sortField),m=N(t.sortOrder),v=o,S=F=>{r.value=!0,t.entityType==="students"?u.value=F.idNumber:t.entityType==="programs"?u.value=F.programCode:u.value=F.collegeCode},y=F=>{i.value=!0,t.entityType==="students"?u.value=F.idNumber:t.entityType==="programs"?u.value=F.programCode:u.value=F.collegeCode},h=N([]),M=oe,j=un,E=Ye,B={UButton:M,UDropdownMenu:j},k=Dl({openEditDialog:F=>y(F),openConfirmDeleteDialog:F=>S(F)},B,E,F=>{d.value=!0,s.value=F||"images/noAvatar.jpg"}),Z=Ol({openEditDialog:F=>y(F),openConfirmDeleteDialog:F=>S(F)},B),W=El({openEditDialog:F=>y(F),openConfirmDeleteDialog:F=>S(F)},B),z=()=>{const F={};return F.page=String(I.value),F.sortField=a.value,F.sortOrder=m.value,g.value!==""&&(F.searchValue=g.value,F.searchBy=p.value,F.searchType=c.value),F},J=N(!0),T=async()=>{const F={rowsPerPage:D.value,pageNumber:I.value,searchValue:t.searchValue,searchBy:t.searchBy,searchType:t.searchType,sortField:t.sortField,sortOrder:t.sortOrder},K=await Al(t.entityType,F);h.value=K.entities,J.value=!1},L=Ct(async()=>{J.value=!0,await T()},700),C=N(0),I=N(1),D=N(0),x=()=>{Nt(),Fe()},Nt=()=>{const F=t.entityType==="students"?81:64,K=window.innerHeight-Tl;D.value=Math.max(5,Math.floor(K/F))},qt=async()=>{const F={searchValue:t.searchValue,searchBy:t.searchBy,searchType:t.searchType},{totalCount:K}=await mn(t.entityType,F);C.value=K},Fe=Ct(async()=>{await qt(),Lt()},200),Lt=()=>{const F=Math.ceil(C.value/D.value)||1;I.value>F&&(I.value=F),C.value===0&&(I.value=1)},Bt=()=>{const F=Math.ceil(C.value/D.value),K=["ID Number","First Name","Last Name","Year Level","Gender","Program Code"],he=["Program Code","Program Name","College Code"],we=["College Code","College Name"],Ce=["Starts With","Contains","Ends With"],qe=["Ascending","Descending"];I.value>F?I.value=F:I.value<1&&(I.value=1),t.entityType==="students"?a.value=K.includes(a.value)?a.value:"ID Number":t.entityType==="programs"?a.value=he.includes(a.value)?a.value:"Program Code":t.entityType==="colleges"&&(a.value=we.includes(a.value)?a.value:"College Code"),m.value=qe.includes(m.value)?m.value:"Ascending",t.entityType==="students"?p.value=K.includes(p.value)?p.value:"ID Number":t.entityType==="programs"?p.value=he.includes(p.value)?p.value:"Program Code":t.entityType==="colleges"&&(p.value=we.includes(p.value)?p.value:"College Code"),c.value=Ce.includes(c.value)?c.value:"Starts With"};return Q([g,p,c,a,m],([F,K,he,we,Ce])=>{v("update:searchValue",F),v("update:searchBy",K),v("update:searchType",he),v("update:sortField",we),v("update:sortOrder",Ce)},{immediate:!0}),Q(()=>t.searchValue,F=>{g.value=F}),Q(()=>t.searchBy,F=>{p.value=F}),Q(()=>t.searchType,F=>{c.value=F}),Q(()=>t.sortField,F=>{a.value=F}),Q(()=>t.sortOrder,F=>{m.value=F}),Q(()=>t.createEntitySubmitRef,F=>{F&&(J.value=!0,L(),Fe(),v("disableCreateEntitySubmit"))}),Ve(()=>{I.value=Number(l.query.page)||I.value,g.value=String(l.query.searchValue||g.value),p.value=String(l.query.searchBy||p.value),c.value=String(l.query.searchType||c.value),a.value=String(l.query.sortField||a.value),m.value=String(l.query.sortOrder||m.value),Bt(),x(),sn(()=>{Q([()=>D.value,()=>I.value,()=>g.value,()=>p.value,()=>c.value,()=>a.value,()=>m.value],()=>{n.replace({query:z()}),J.value=!0,L(),Fe()},{immediate:!0})}),window.addEventListener("resize",x)}),an(()=>{window.removeEventListener("resize",x)}),(F,K)=>{const he=Pt,we=wo,Ce=Vl,qe=Ml,kt=_t,Ut=ze;return w(),P(te,null,[R(he,{"is-open":f(i),"onUpdate:isOpen":K[0]||(K[0]=ge=>se(i)?i.value=ge:null),class:"ml-auto hidden","entity-type":t.entityType,"dialog-type":"edit","selected-entity":f(u),onOnSubmit:K[1]||(K[1]=ge=>{J.value=!0,f(L)(),f(Fe)()})},null,8,["is-open","entity-type","selected-entity"]),R(we,{"is-open":f(r),"onUpdate:isOpen":K[2]||(K[2]=ge=>se(r)?r.value=ge:null),class:"ml-auto hidden","entity-type":t.entityType,"selected-entity":f(u),onOnDelete:K[3]||(K[3]=ge=>{J.value=!0,f(L)(),f(Fe)()})},null,8,["is-open","entity-type","selected-entity"]),F.entityType==="students"?(w(),q(Ce,{key:0,loading:f(J),"loading-color":"primary","loading-animation":"carousel",data:f(h).slice(0,f(D)),columns:f(k),class:"flex-1"},null,8,["loading","data","columns"])):U("",!0),F.entityType==="programs"?(w(),q(Ce,{key:1,loading:f(J),"loading-color":"primary","loading-animation":"carousel",data:f(h).slice(0,f(D)),columns:f(Z),class:"flex-1"},null,8,["loading","data","columns"])):U("",!0),F.entityType==="colleges"?(w(),q(Ce,{key:2,loading:f(J),"loading-color":"primary","loading-animation":"carousel",data:f(h).slice(0,f(D)),columns:f(W),class:"flex-1 overflow-y-hidden"},null,8,["loading","data","columns"])):U("",!0),V("div",zl,[R(qe,{page:f(I),"onUpdate:page":K[4]||(K[4]=ge=>se(I)?I.value=ge:null),"items-per-page":f(D),"show-edges":"",size:"xl","sibling-count":0,total:f(C)},null,8,["page","items-per-page","total"])]),R(Ut,{open:f(d),"onUpdate:open":K[5]||(K[5]=ge=>se(d)?d.value=ge:null),ui:{content:"max-w-100"}},{content:_(()=>[R(kt,{src:f(s),alt:"Avatar",class:"max-w-100 max-h-100 object-contain"},null,8,["src"])]),_:1},8,["open"])],64)}}}),ql=Object.assign(Nl,{__name:"EntityTable"}),Ll={class:"flex-1 flex flex-col gap-2"},Bl=["onClick"],kl={class:"font-medium"},Ul=Y({__name:"RadioSelectButtons",props:{options:{},dialogType:{},columnPosition:{},searchAndSortState:{}},emits:["update:searchBy","update:searchType","update:sortField","update:sortOrder"],setup(e,{emit:o}){const t=e,n=o,l=G({get:()=>i(),set:d=>r(d)}),i=()=>t.dialogType==="filter"?t.columnPosition==="first"?t.searchAndSortState.searchBy:t.searchAndSortState.searchType:t.columnPosition==="first"?t.searchAndSortState.sortField:t.searchAndSortState.sortOrder,r=d=>{t.dialogType==="filter"?t.columnPosition==="first"?n("update:searchBy",d):n("update:searchType",d):t.columnPosition==="first"?n("update:sortField",d):n("update:sortOrder",d)},u=d=>{l.value=d};return(d,s)=>(w(),P("div",Ll,[(w(!0),P(te,null,pe(d.options,(g,p)=>(w(),P("button",{key:p,class:O(["w-full h-10 rounded-lg transition-colors duration-100 cursor-pointer",f(l)===g?"bg-accented text-primary":"text-muted hover:bg-accented hover:text-primary"]),onClick:c=>u(g)},[V("p",kl,X(g),1)],10,Bl))),128))]))}}),Gl=Object.assign(Ul,{__name:"RadioSelectButtons"}),Hl={key:0,class:"text-3xl font-semibold"},jl={key:1,class:"text-3xl font-semibold"},Kl={class:"flex-col mb-12"},Wl={key:0,class:"w-full flex gap-4 mb-2"},Xl={key:1,class:"w-full flex gap-4 mb-2"},Zl={class:"w-full flex gap-4 mb-4"},Yl={class:"flex justify-end gap-2 w-full"},Jl=Y({__name:"FilterSortDialog",props:{entityType:{},dialogType:{},searchAndSortState:{}},emits:["onProceed"],setup(e,{emit:o}){const t=e,n=o,l=N(!1),i=xe({...t.searchAndSortState}),r={students:["ID Number","First Name","Last Name","Year Level","Gender","Program Code"],programs:["Program Code","Program Name","College Code"],colleges:["College Code","College Name"]},u=["Starts With","Ends With","Contains"],d=["Ascending","Descending"],s=()=>t.dialogType==="filter"?`Search By: ${i.searchBy} | Search Type: ${i.searchType}`:`Sort Field: ${i.sortField} | Sort Order: ${i.sortOrder}`;return Q(()=>t.searchAndSortState,g=>{Object.assign(i,g)},{deep:!0,immediate:!0}),(g,p)=>{const c=oe,a=vn,m=Gl,v=ze;return w(),P("div",null,[R(v,{open:f(l),"onUpdate:open":p[11]||(p[11]=S=>se(l)?l.value=S:null)},{header:_(()=>[t.dialogType==="filter"?(w(),P("h2",Hl,"Search Filters")):(w(),P("h2",jl,"Sort Options"))]),body:_(()=>[V("div",null,[V("div",Kl,[t.dialogType==="filter"?(w(),P("div",Wl,[...p[12]||(p[12]=[V("h3",{class:"flex-1 text-lg font-medium"},"Search By",-1),V("h3",{class:"flex-1 text-lg font-medium"},"Search Type",-1)])])):(w(),P("div",Xl,[...p[13]||(p[13]=[V("h3",{class:"flex-1 text-lg font-medium"},"Sort Field",-1),V("h3",{class:"flex-1 text-lg font-medium"},"Sort Order",-1)])])),p[14]||(p[14]=V("div",{class:"w-full flex gap-4 mb-2"},[V("div",{class:"flex-1 h-[2px] bg-primary"}),V("div",{class:"flex-1 h-[2px] bg-primary"})],-1)),V("div",Zl,[R(m,{options:r[t.entityType]??[],"dialog-type":t.dialogType,"column-position":"first","search-and-sort-state":f(i),"onUpdate:searchBy":p[1]||(p[1]=S=>f(i).searchBy=S),"onUpdate:searchType":p[2]||(p[2]=S=>f(i).searchType=S),"onUpdate:sortField":p[3]||(p[3]=S=>f(i).sortField=S),"onUpdate:sortOrder":p[4]||(p[4]=S=>f(i).sortOrder=S)},null,8,["options","dialog-type","search-and-sort-state"]),R(m,{options:t.dialogType==="filter"?u:d,"dialog-type":t.dialogType,"column-position":"second","search-and-sort-state":f(i),"onUpdate:searchBy":p[5]||(p[5]=S=>f(i).searchBy=S),"onUpdate:searchType":p[6]||(p[6]=S=>f(i).searchType=S),"onUpdate:sortField":p[7]||(p[7]=S=>f(i).sortField=S),"onUpdate:sortOrder":p[8]||(p[8]=S=>f(i).sortOrder=S)},null,8,["options","dialog-type","search-and-sort-state"])])])])]),footer:_(()=>[V("div",Yl,[R(c,{size:"md",color:"error",variant:"solid",class:"cursor-pointer",onClick:p[9]||(p[9]=S=>l.value=!1)},{default:_(()=>[...p[15]||(p[15]=[H("Close",-1)])]),_:1}),R(c,{size:"md",color:"primary",variant:"solid",class:"cursor-pointer",onClick:p[10]||(p[10]=S=>{l.value=!1,n("onProceed",f(i))})},{default:_(()=>[...p[16]||(p[16]=[H("Proceed",-1)])]),_:1})])]),default:_(()=>[R(a,{content:{align:"center",side:"top",sideOffset:8},arrow:"",ui:{content:"data-[state=delayed-open]:animate-none data-[state=closed]:animate-none"}},{content:_(()=>[H(X(s()),1)]),default:_(()=>[R(c,{icon:t.dialogType==="filter"?"solar:filter-linear":"solar:sort-linear",size:"md",color:"primary",variant:"solid",class:"cursor-pointer",onClick:p[0]||(p[0]=S=>l.value=!0)},{default:_(()=>[H(X(t.dialogType==="filter"?"Filters":"Sort Options"),1)]),_:1},8,["icon"])]),_:1})]),_:1},8,["open"])])}}}),Ql=Object.assign(Jl,{__name:"FilterSortDialog"}),ei={class:"flex gap-3"},ti=Y({__name:"SearchAndSortHeader",props:{entityType:{},searchAndSortState:{}},emits:["onProceed","update:searchValue","onCreateEntitySubmit"],setup(e,{emit:o}){const t=e,n=o,l=N(!1),i=()=>{l.value=!0},r=G({get:()=>t.searchAndSortState.searchValue,set:u=>n("update:searchValue",u)});return(u,d)=>{const s=Te,g=Ql,p=oe,c=Pt;return w(),P("div",ei,[R(s,{modelValue:f(r),"onUpdate:modelValue":d[0]||(d[0]=a=>se(r)?r.value=a:null),icon:"solar:magnifer-linear",size:"md",variant:"outline",placeholder:"Search..."},null,8,["modelValue"]),R(g,{"entity-type":t.entityType,"dialog-type":"filter","search-and-sort-state":t.searchAndSortState,onOnProceed:d[1]||(d[1]=a=>n("onProceed",a))},null,8,["entity-type","search-and-sort-state"]),R(g,{"entity-type":t.entityType,"dialog-type":"sort","search-and-sort-state":t.searchAndSortState,onOnProceed:d[2]||(d[2]=a=>n("onProceed",a))},null,8,["entity-type","search-and-sort-state"]),R(p,{class:"ml-auto cursor-pointer justify-center w-36",icon:"solar:add-circle-linear",size:"md",color:"primary",variant:"solid",onClick:i},{default:_(()=>[H(X("Add "+("capitalizeWords"in u?u.capitalizeWords:f(Se))(t.entityType).slice(0,-1)),1)]),_:1}),R(c,{"is-open":f(l),"onUpdate:isOpen":d[3]||(d[3]=a=>se(l)?l.value=a:null),class:"ml-auto hidden","entity-type":t.entityType,"dialog-type":"add",onOnSubmit:d[4]||(d[4]=a=>n("onCreateEntitySubmit"))},null,8,["is-open","entity-type"])])}}}),ni=Object.assign(ti,{__name:"SearchAndSortHeader"}),oi={class:"flex flex-col gap-10 h-full"},li={class:"font-bold text-5xl"},ii={class:"flex flex-col gap-5 h-full"},vi=Y({__name:"[entity]",setup(e){const t=Ft().params.entity,l={students:"ID Number",programs:"Program Code",colleges:"College Code"}[t]||"Unknown",i=xe({searchValue:"",searchBy:l,searchType:"Starts With",sortField:l,sortOrder:"Ascending"}),r=N(!1),u=d=>{i.searchBy=d.searchBy,i.searchType=d.searchType,i.sortField=d.sortField,i.sortOrder=d.sortOrder};return(d,s)=>{const g=ql;return w(),P("div",oi,[V("h1",li,X(f(Se)(f(t))),1),V("div",ii,[R(ni,{"entity-type":f(t),"search-and-sort-state":f(i),onOnCreateEntitySubmit:s[0]||(s[0]=()=>r.value=!0),onOnProceed:s[1]||(s[1]=p=>u(p)),"onUpdate:searchValue":s[2]||(s[2]=p=>f(i).searchValue=p)},null,8,["entity-type","search-and-sort-state"]),R(g,{"entity-type":f(t),"search-value":f(i).searchValue,"search-by":f(i).searchBy,"search-type":f(i).searchType,"sort-field":f(i).sortField,"sort-order":f(i).sortOrder,"create-entity-submit-ref":f(r),"onUpdate:searchValue":s[3]||(s[3]=p=>f(i).searchValue=p),"onUpdate:searchBy":s[4]||(s[4]=p=>f(i).searchBy=p),"onUpdate:searchType":s[5]||(s[5]=p=>f(i).searchType=p),"onUpdate:sortField":s[6]||(s[6]=p=>f(i).sortField=p),"onUpdate:sortOrder":s[7]||(s[7]=p=>{f(i).sortOrder=p}),onDisableCreateEntitySubmit:s[8]||(s[8]=()=>r.value=!1)},null,8,["entity-type","search-value","search-by","search-type","sort-field","sort-order","create-entity-submit-ref"])])])}}});export{vi as default};
