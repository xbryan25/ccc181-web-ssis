import{ak as X,v as k,N as H,al as Y,e as w,a0 as x,j as g,o as y,w as v,D as C,W as E,X as A,m as n,a1 as U,am as R,z as m,a2 as J,A as Z,an as Q,s as $,ao as ee,H as j,ap as F,b as B,F as q,aq as te,d as re,t as K,a7 as ae,ar as oe,Y as se,af as z,a8 as ne,as as le,at as ie,P as ue,au as de,y as fe,Z as pe,av as ce,aw as N,ax as ye,B as I,l as O,c as L,q as M,I as ve,J as ge}from"#entry";import{P as he,a as be,b as me,u as _e,c as qe}from"./p_lAcp4K.js";import{_ as Ce}from"./KlBJtOUW.js";function Te(t,r){const e=X(!1,300),o=k(null),a=Y();function u(){o.value=null,e.value=!1}function l(d,p){const c=d.currentTarget,s={x:d.clientX,y:d.clientY},i=we(s,c.getBoundingClientRect()),f=xe(s,i),h=Pe(p.getBoundingClientRect()),b=Be([...f,...h]);o.value=b,e.value=!0}return H(d=>{if(t.value&&r.value){const p=s=>l(s,r.value),c=s=>l(s,t.value);t.value.addEventListener("pointerleave",p),r.value.addEventListener("pointerleave",c),d(()=>{t.value?.removeEventListener("pointerleave",p),r.value?.removeEventListener("pointerleave",c)})}}),H(d=>{if(o.value){const p=c=>{if(!o.value||!(c.target instanceof HTMLElement))return;const s=c.target,i={x:c.clientX,y:c.clientY},f=t.value?.contains(s)||r.value?.contains(s),h=!ke(i,o.value),b=!!s.closest("[data-grace-area-trigger]");f?u():(h||b)&&(u(),a.trigger())};t.value?.ownerDocument.addEventListener("pointermove",p),d(()=>t.value?.ownerDocument.removeEventListener("pointermove",p))}}),{isPointerInTransit:e,onPointerExit:a.on}}function we(t,r){const e=Math.abs(r.top-t.y),o=Math.abs(r.bottom-t.y),a=Math.abs(r.right-t.x),u=Math.abs(r.left-t.x);switch(Math.min(e,o,a,u)){case u:return"left";case a:return"right";case e:return"top";case o:return"bottom";default:throw new Error("unreachable")}}function xe(t,r,e=5){const o=[];switch(r){case"top":o.push({x:t.x-e,y:t.y+e},{x:t.x+e,y:t.y+e});break;case"bottom":o.push({x:t.x-e,y:t.y-e},{x:t.x+e,y:t.y-e});break;case"left":o.push({x:t.x+e,y:t.y-e},{x:t.x+e,y:t.y+e});break;case"right":o.push({x:t.x-e,y:t.y-e},{x:t.x-e,y:t.y+e});break}return o}function Pe(t){const{top:r,right:e,bottom:o,left:a}=t;return[{x:a,y:r},{x:e,y:r},{x:e,y:o},{x:a,y:o}]}function ke(t,r){const{x:e,y:o}=t;let a=!1;for(let u=0,l=r.length-1;u<r.length;l=u++){const d=r[u].x,p=r[u].y,c=r[l].x,s=r[l].y;p>o!=s>o&&e<(c-d)*(o-p)/(s-p)+d&&(a=!a)}return a}function Be(t){const r=t.slice();return r.sort((e,o)=>e.x<o.x?-1:e.x>o.x?1:e.y<o.y?-1:e.y>o.y?1:0),Oe(r)}function Oe(t){if(t.length<=1)return t.slice();const r=[];for(let o=0;o<t.length;o++){const a=t[o];for(;r.length>=2;){const u=r[r.length-1],l=r[r.length-2];if((u.x-l.x)*(a.y-l.y)>=(u.y-l.y)*(a.x-l.x))r.pop();else break}r.push(a)}r.pop();const e=[];for(let o=t.length-1;o>=0;o--){const a=t[o];for(;e.length>=2;){const u=e[e.length-1],l=e[e.length-2];if((u.x-l.x)*(a.y-l.y)>=(u.y-l.y)*(a.x-l.x))e.pop();else break}e.push(a)}return e.pop(),r.length===1&&e.length===1&&r[0].x===e[0].x&&r[0].y===e[0].y?r:r.concat(e)}var De=w({__name:"TooltipArrow",props:{width:{type:Number,required:!1,default:10},height:{type:Number,required:!1,default:5},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"svg"}},setup(t){const r=t;return x(),(e,o)=>(y(),g(n(he),E(A(r)),{default:v(()=>[C(e.$slots,"default")]),_:3},16))}}),Se=De;const G="tooltip.open",[D,Ne]=U("TooltipRoot");var Le=w({__name:"TooltipRoot",props:{defaultOpen:{type:Boolean,required:!1,default:!1},open:{type:Boolean,required:!1,default:void 0},delayDuration:{type:Number,required:!1,default:void 0},disableHoverableContent:{type:Boolean,required:!1,default:void 0},disableClosingTrigger:{type:Boolean,required:!1,default:void 0},disabled:{type:Boolean,required:!1,default:void 0},ignoreNonKeyboardFocus:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(t,{emit:r}){const e=t,o=r;x();const a=R(),u=m(()=>e.disableHoverableContent??a.disableHoverableContent.value),l=m(()=>e.disableClosingTrigger??a.disableClosingTrigger.value),d=m(()=>e.disabled??a.disabled.value),p=m(()=>e.delayDuration??a.delayDuration.value),c=m(()=>e.ignoreNonKeyboardFocus??a.ignoreNonKeyboardFocus.value),s=J(e,"open",o,{defaultValue:e.defaultOpen,passive:e.open===void 0});Z(s,P=>{a.onClose&&(P?(a.onOpen(),document.dispatchEvent(new CustomEvent(G))):a.onClose())});const i=k(!1),f=k(),h=m(()=>s.value?i.value?"delayed-open":"instant-open":"closed"),{start:b,stop:T}=Q(()=>{i.value=!0,s.value=!0},p,{immediate:!1});function _(){T(),i.value=!1,s.value=!0}function S(){T(),s.value=!1}function W(){b()}return Ne({contentId:"",open:s,stateAttribute:h,trigger:f,onTriggerChange(P){f.value=P},onTriggerEnter(){a.isOpenDelayed.value?W():_()},onTriggerLeave(){u.value?S():T()},onOpen:_,onClose:S,disableHoverableContent:u,disableClosingTrigger:l,disabled:d,ignoreNonKeyboardFocus:c}),(P,Ge)=>(y(),g(n(be),null,{default:v(()=>[C(P.$slots,"default",{open:n(s)})]),_:3}))}}),Ee=Le,Ae=w({__name:"TooltipContentImpl",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1,default:0},align:{type:null,required:!1,default:"center"},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1,default:!0},collisionBoundary:{type:null,required:!1,default:()=>[]},collisionPadding:{type:[Number,Object],required:!1,default:0},arrowPadding:{type:Number,required:!1,default:0},sticky:{type:String,required:!1,default:"partial"},hideWhenDetached:{type:Boolean,required:!1,default:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:r}){const e=t,o=r,a=D(),{forwardRef:u}=x(),l=$(),d=m(()=>l.default?.({})),p=m(()=>{if(e.ariaLabel)return e.ariaLabel;let s="";function i(f){typeof f.children=="string"&&f.type!==ee?s+=f.children:Array.isArray(f.children)&&f.children.forEach(h=>i(h))}return d.value?.forEach(f=>i(f)),s}),c=m(()=>{const{ariaLabel:s,...i}=e;return i});return j(()=>{F(window,"scroll",s=>{s.target?.contains(a.trigger.value)&&a.onClose()}),F(window,G,a.onClose)}),(s,i)=>(y(),g(n(oe),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:i[0]||(i[0]=f=>o("escapeKeyDown",f)),onPointerDownOutside:i[1]||(i[1]=f=>{n(a).disableClosingTrigger.value&&n(a).trigger.value?.contains(f.target)&&f.preventDefault(),o("pointerDownOutside",f)}),onFocusOutside:i[2]||(i[2]=ae(()=>{},["prevent"])),onDismiss:i[3]||(i[3]=f=>n(a).onClose())},{default:v(()=>[B(n(me),q({ref:n(u),"data-state":n(a).stateAttribute.value},{...s.$attrs,...c.value},{style:{"--reka-tooltip-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-tooltip-content-available-width":"var(--reka-popper-available-width)","--reka-tooltip-content-available-height":"var(--reka-popper-available-height)","--reka-tooltip-trigger-width":"var(--reka-popper-anchor-width)","--reka-tooltip-trigger-height":"var(--reka-popper-anchor-height)"}}),{default:v(()=>[C(s.$slots,"default"),B(n(te),{id:n(a).contentId,role:"tooltip"},{default:v(()=>[re(K(p.value),1)]),_:1},8,["id"])]),_:3},16,["data-state"])]),_:3}))}}),V=Ae,Re=w({__name:"TooltipContentHoverable",props:{ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},setup(t){const e=se(t),{forwardRef:o,currentElement:a}=x(),{trigger:u,onClose:l}=D(),d=R(),{isPointerInTransit:p,onPointerExit:c}=Te(u,a);return d.isPointerInTransitRef=p,c(()=>{l()}),(s,i)=>(y(),g(V,q({ref:n(o)},n(e)),{default:v(()=>[C(s.$slots,"default")]),_:3},16))}}),He=Re,Fe=w({__name:"TooltipContent",props:{forceMount:{type:Boolean,required:!1},ariaLabel:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1},side:{type:null,required:!1,default:"top"},sideOffset:{type:Number,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:r}){const e=t,o=r,a=D(),u=z(e,o),{forwardRef:l}=x();return(d,p)=>(y(),g(n(le),{present:d.forceMount||n(a).open.value},{default:v(()=>[(y(),g(ne(n(a).disableHoverableContent.value?V:He),q({ref:n(l)},n(u)),{default:v(()=>[C(d.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ie=Fe,Me=w({__name:"TooltipPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const r=t;return(e,o)=>(y(),g(n(ie),E(A(r)),{default:v(()=>[C(e.$slots,"default")]),_:3},16))}}),$e=Me,je=w({__name:"TooltipTrigger",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const r=t,e=D(),o=R();e.contentId||=_e(void 0,"reka-tooltip-content");const{forwardRef:a,currentElement:u}=x(),l=k(!1),d=k(!1),p=m(()=>e.disabled.value?{}:{click:T,focus:h,pointermove:i,pointerleave:f,pointerdown:s,blur:b});j(()=>{e.onTriggerChange(u.value)});function c(){setTimeout(()=>{l.value=!1},1)}function s(){e.open&&!e.disableClosingTrigger.value&&e.onClose(),l.value=!0,document.addEventListener("pointerup",c,{once:!0})}function i(_){_.pointerType!=="touch"&&!d.value&&!o.isPointerInTransitRef.value&&(e.onTriggerEnter(),d.value=!0)}function f(){e.onTriggerLeave(),d.value=!1}function h(_){l.value||e.ignoreNonKeyboardFocus.value&&!_.target.matches?.(":focus-visible")||e.onOpen()}function b(){e.onClose()}function T(){e.disableClosingTrigger.value||e.onClose()}return(_,S)=>(y(),g(n(qe),{"as-child":"",reference:_.reference},{default:v(()=>[B(n(ue),q({ref:n(a),"aria-describedby":n(e).open.value?n(e).contentId:void 0,"data-state":n(e).stateAttribute.value,as:_.as,"as-child":r.asChild,"data-grace-area-trigger":""},de(p.value)),{default:v(()=>[C(_.$slots,"default")]),_:3},16,["aria-describedby","data-state","as","as-child"])]),_:3},8,["reference"]))}}),Ke=je;const ze={slots:{content:"flex items-center gap-1 bg-default text-highlighted shadow-sm rounded-sm ring ring-default h-6 px-2.5 py-1 text-xs select-none data-[state=delayed-open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-tooltip-content-transform-origin) pointer-events-auto",arrow:"fill-default",text:"truncate",kbds:"hidden lg:inline-flex items-center shrink-0 gap-0.5 not-first-of-type:before:content-['Â·'] not-first-of-type:before:me-0.5",kbdsSize:"sm"}},Ye={__name:"UTooltip",props:{text:{type:String,required:!1},kbds:{type:Array,required:!1},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},reference:{type:null,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},delayDuration:{type:Number,required:!1},disableHoverableContent:{type:Boolean,required:!1},disableClosingTrigger:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},ignoreNonKeyboardFocus:{type:Boolean,required:!1}},emits:["update:open"],setup(t,{emit:r}){const e=t,o=r,a=$(),u=fe(),l=z(pe(e,"defaultOpen","open","delayDuration","disableHoverableContent","disableClosingTrigger","ignoreNonKeyboardFocus"),o),d=ce(N(()=>e.portal)),p=N(()=>ye(e.content,{side:"bottom",sideOffset:8,collisionPadding:8})),c=N(()=>e.arrow),s=m(()=>I({extend:I(ze),...u.ui?.tooltip||{}})({side:p.value.side}));return(i,f)=>(y(),g(n(Ee),q(n(l),{disabled:!(t.text||t.kbds?.length||a.content)||e.disabled}),{default:v(({open:h})=>[a.default||t.reference?(y(),g(n(Ke),q({key:0},i.$attrs,{"as-child":"",reference:t.reference,class:e.class}),{default:v(()=>[C(i.$slots,"default",{open:h})]),_:2},1040,["reference","class"])):O("",!0),B(n($e),E(A(n(d))),{default:v(()=>[B(n(Ie),q(p.value,{class:s.value.content({class:[!a.default&&e.class,e.ui?.content]})}),{default:v(()=>[C(i.$slots,"content",{},()=>[t.text?(y(),L("span",{key:0,class:M(s.value.text({class:e.ui?.text}))},K(t.text),3)):O("",!0),t.kbds?.length?(y(),L("span",{key:1,class:M(s.value.kbds({class:e.ui?.kbds}))},[(y(!0),L(ve,null,ge(t.kbds,(b,T)=>(y(),g(Ce,q({key:T,size:e.ui?.kbdsSize||s.value.kbdsSize()},{ref_for:!0},typeof b=="string"?{value:b}:b),null,16,["size"]))),128))],2)):O("",!0)]),t.arrow?(y(),g(n(Se),q({key:0},c.value,{class:s.value.arrow({class:e.ui?.arrow})}),null,16,["class"])):O("",!0)]),_:3},16,["class"])]),_:3},16)]),_:3},16,["disabled"]))}};export{Ye as _};
